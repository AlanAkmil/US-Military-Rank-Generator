<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>US Military Rank Generator - Scoreboard Edition</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Arial', sans-serif; background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d); color: #333; min-height: 100vh; padding: 20px; }
        .container { max-width: 1400px; margin: 0 auto; background: white; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); overflow: hidden; }
        .header { background: linear-gradient(135deg, #0a2463, #1e40af); color: white; padding: 30px; text-align: center; border-bottom: 5px solid #b91c1c; position: relative; }
        .language-selector { position: absolute; top: 20px; right: 20px; z-index: 1000; }
        .language-btn { background: rgba(255,255,255,0.2); border: 2px solid white; color: white; padding: 8px 15px; border-radius: 20px; cursor: pointer; font-weight: bold; backdrop-filter: blur(10px); min-width: 120px; }
        .language-dropdown { position: absolute; top: 100%; right: 0; background: white; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); display: none; margin-top: 5px; min-width: 150px; }
        .language-dropdown.show { display: block; }
        .language-option { padding: 12px 20px; cursor: pointer; border-bottom: 1px solid #eee; display: flex; align-items: center; gap: 10px; color: #333; }
        .language-option:hover { background: #f1f5f9; }
        .language-option:last-child { border-bottom: none; }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
        .header p { font-size: 1.1em; opacity: 0.9; margin-bottom: 5px; }
        .made-by { font-size: 0.9em; opacity: 0.7; font-style: italic; }
        .content { padding: 30px; display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        .left-panel { grid-column: 1; }
        .right-panel { grid-column: 2; }
        .input-section { margin-bottom: 30px; }
        .input-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; color: #1e40af; }
        input[type="text"] { width: 100%; padding: 12px; border: 2px solid #d1d5db; border-radius: 8px; font-size: 16px; transition: border-color 0.3s; }
        input[type="text"]:focus { outline: none; border-color: #1e40af; }
        .branch-select { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin-top: 10px; }
        .branch-btn { padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; background: white; cursor: pointer; transition: all 0.3s; font-weight: bold; }
        .branch-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .branch-btn.active { border-color: #1e40af; background: #1e40af; color: white; }
        .army { border-left: 4px solid #4d7c0f; }
        .navy { border-left: 4px solid #1e40af; }
        .air-force { border-left: 4px solid #0369a1; }
        .marines { border-left: 4px solid #dc2626; }
        .space-force { border-left: 4px solid #7e22ce; }
        .coast-guard { border-left: 4px solid #059669; }
        .generate-btn { width: 100%; padding: 15px; background: linear-gradient(135deg, #dc2626, #b91c1c); color: white; border: none; border-radius: 8px; font-size: 18px; font-weight: bold; cursor: pointer; transition: all 0.3s; margin-top: 20px; }
        .generate-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(220,38,38,0.4); }
        .result-box { background: #f8fafc; border: 2px solid #e5e7eb; border-radius: 10px; padding: 25px; margin-bottom: 20px; }
        .military-rank { font-size: 2em; font-weight: bold; color: #1e40af; margin-bottom: 10px; text-align: center; }
        .unit { font-size: 1.3em; color: #dc2626; font-weight: bold; text-align: center; margin-bottom: 20px; }
        .assignment { background: #e0f2fe; border: 2px solid #0ea5e9; border-radius: 8px; padding: 15px; margin: 15px 0; text-align: center; font-weight: bold; color: #0369a1; }
        .equipment { background: #fef3c7; border: 2px solid #d97706; border-radius: 8px; padding: 15px; margin: 15px 0; text-align: center; font-weight: bold; color: #92400e; }
        .weapon { background: #ecfdf5; border: 2px solid #10b981; border-radius: 8px; padding: 15px; margin: 15px 0; text-align: center; font-weight: bold; color: #065f46; }
        .weapon-details { background: white; border-left: 4px solid #10b981; padding: 20px; border-radius: 8px; margin-top: 15px; text-align: left; }
        .weapon-details h4 { color: #065f46; margin-bottom: 10px; border-bottom: 2px solid #e5e7eb; padding-bottom: 5px; }
        .weapon-specs { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 15px 0; }
        .spec-item { background: #f8fafc; padding: 10px; border-radius: 6px; border-left: 3px solid #10b981; }
        .spec-label { font-weight: bold; color: #374151; font-size: 0.9em; }
        .spec-value { color: #1e40af; font-weight: bold; }
        .weapon-history { background: #fffbeb; border: 1px solid #f59e0b; border-radius: 6px; padding: 15px; margin-top: 15px; }
        .weapon-history h5 { color: #92400e; margin-bottom: 10px; }
        .description { background: white; border-left: 4px solid #1e40af; padding: 20px; border-radius: 8px; margin-top: 20px; text-align: left; }
        .description h3 { color: #1e40af; margin-bottom: 15px; border-bottom: 2px solid #e5e7eb; padding-bottom: 5px; }
        .description-section { margin-bottom: 20px; }
        .description-section h4 { color: #dc2626; margin-bottom: 8px; }
        .description-section p { line-height: 1.6; color: #4b5563; margin-bottom: 10px; }
        .copy-btn { width: 100%; padding: 12px; background: #059669; color: white; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; transition: background 0.3s; margin-top: 15px; }
        .copy-btn:hover { background: #047857; }
        .history { margin-top: 20px; padding: 15px; background: #f1f5f9; border-radius: 8px; font-size: 14px; color: #64748b; }
        .scoreboard-section { background: #f8fafc; border: 2px solid #e5e7eb; border-radius: 10px; padding: 25px; }
        .scoreboard-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 2px solid #e5e7eb; padding-bottom: 15px; }
        .scoreboard-header h2 { color: #1e40af; font-size: 1.8em; }
        .total-count { background: #1e40af; color: white; padding: 8px 15px; border-radius: 20px; font-weight: bold; }
        .branch-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 20px; }
        .stat-card { background: white; border: 2px solid #e5e7eb; border-radius: 8px; padding: 10px; text-align: center; }
        .stat-card.army-stat { border-top: 4px solid #4d7c0f; }
        .stat-card.navy-stat { border-top: 4px solid #1e40af; }
        .stat-card.air-force-stat { border-top: 4px solid #0369a1; }
        .stat-card.marines-stat { border-top: 4px solid #dc2626; }
        .stat-card.space-force-stat { border-top: 4px solid #7e22ce; }
        .stat-card.coast-guard-stat { border-top: 4px solid #059669; }
        .stat-number { font-size: 1.8em; font-weight: bold; color: #1e40af; }
        .stat-label { font-size: 0.9em; color: #64748b; }
        .scoreboard-table-container { max-height: 500px; overflow-y: auto; border: 2px solid #e5e7eb; border-radius: 8px; }
        .scoreboard-table { width: 100%; border-collapse: collapse; }
        .scoreboard-table th { background: #1e40af; color: white; padding: 12px; position: sticky; top: 0; font-size: 0.9em; }
        .scoreboard-table td { padding: 12px; border-bottom: 1px solid #e5e7eb; }
        .scoreboard-table tr:hover { background: #f1f5f9; }
        .branch-badge { display: inline-block; padding: 4px 10px; border-radius: 20px; font-size: 0.8em; font-weight: bold; color: white; }
        .branch-badge.army { background: #4d7c0f; }
        .branch-badge.navy { background: #1e40af; }
        .branch-badge.air-force { background: #0369a1; }
        .branch-badge.marines { background: #dc2626; }
        .branch-badge.space-force { background: #7e22ce; }
        .branch-badge.coast-guard { background: #059669; }
        .status-badge { display: inline-block; padding: 2px 8px; border-radius: 12px; font-size: 0.7em; font-weight: bold; background: #10b981; color: white; }
        .clear-scoreboard-btn { background: #dc2626; color: white; border: none; padding: 8px 15px; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 15px; width: 100%; }
        .clear-scoreboard-btn:hover { background: #b91c1c; }
        @media (max-width: 1024px) {
            .content { grid-template-columns: 1fr; gap: 20px; }
            .left-panel, .right-panel { grid-column: 1; }
            .header h1 { font-size: 1.8em; }
            .language-selector { position: static; text-align: center; margin-bottom: 15px; }
            .branch-stats { grid-template-columns: repeat(2, 1fr); }
            .scoreboard-table-container { max-height: 400px; }
            .scoreboard-table { font-size: 0.85em; }
            .scoreboard-table th, .scoreboard-table td { padding: 8px 4px; }
            .scoreboard-header h2 { font-size: 1.4em; }
        }
        @media (max-width: 480px) {
            body { padding: 10px; }
            .header { padding: 20px 10px; }
            .header h1 { font-size: 1.5em; }
            .content { padding: 15px; }
            .branch-select { grid-template-columns: repeat(2, 1fr); }
            .branch-stats { grid-template-columns: 1fr; }
            .weapon-specs { grid-template-columns: 1fr; }
            .military-rank { font-size: 1.5em; }
            .unit { font-size: 1.1em; }
            .scoreboard-header { flex-direction: column; gap: 10px; }
            .scoreboard-header h2 { font-size: 1.2em; }
            .scoreboard-table { font-size: 0.75em; }
        }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <div class="language-selector">
            <button class="language-btn" onclick="toggleLanguageDropdown()">ğŸ‡ºğŸ‡¸ English</button>
            <div class="language-dropdown" id="languageDropdown">
                <div class="language-option" onclick="setLanguage('en')">ğŸ‡ºğŸ‡¸ English</div>
                <div class="language-option" onclick="setLanguage('id')">ğŸ‡®ğŸ‡© Indonesia</div>
                <div class="language-option" onclick="setLanguage('zh')">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</div>
                <div class="language-option" onclick="setLanguage('ja')">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</div>
                <div class="language-option" onclick="setLanguage('ru')">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</div>
                <div class="language-option" onclick="setLanguage('de')">ğŸ‡©ğŸ‡ª Deutsch</div>
            </div>
        </div>
        <h1 id="headerTitle">ğŸ‡ºğŸ‡¸ US Military Rank Generator</h1>
        <p id="headerSubtitle">Generate your authentic US military rank and unit assignment</p>
        <p class="made-by">Made By Alan</p>
    </div>

    <div class="content">
        <div class="left-panel">
            <div class="input-section">
                <div class="input-group">
                    <label id="nameLabel">Your Name:</label>
                    <input type="text" id="soldierName" placeholder="Enter your name...">
                </div>
                <div class="input-group">
                    <label id="branchLabel">Military Branch:</label>
                    <div class="branch-select" id="branchButtons"></div>
                </div>
                <button class="generate-btn" onclick="generateMilitaryRank()">
                    <span id="generateBtn">ğŸ–ï¸ Generate Rank/Unit</span>
                </button>
            </div>
            <div class="result-section">
                <div class="result-box">
                    <div class="military-rank" id="rankResult">-</div>
                    <div class="unit" id="unitResult">-</div>
                    <div class="assignment" id="assignmentResult">-</div>
                    <div class="equipment" id="equipmentResult">-</div>
                    <div class="weapon" id="weaponResult">-</div>
                    <div class="weapon-details" id="weaponDetailsResult"></div>
                    <div class="description">
                        <h3 id="aboutTitle">About This Assignment</h3>
                        <div id="descriptionResult">Your military profile will appear here...</div>
                    </div>
                    <button class="copy-btn" onclick="copyResult()">
                        <span id="copyBtn">ğŸ“‹ Copy to Clipboard</span>
                    </button>
                </div>
                <div class="history" id="history">
                    <span id="historyText">Recent generations will appear here...</span>
                </div>
            </div>
        </div>

        <div class="right-panel">
            <div class="scoreboard-section">
                <div class="scoreboard-header">
                    <h2>ğŸ“Š Real-Time Scoreboard</h2>
                    <div class="total-count" id="totalCount">0</div>
                </div>
                <div class="branch-stats" id="branchStats"></div>
                <div class="scoreboard-table-container">
                    <table class="scoreboard-table" id="scoreboardTable">
                        <thead>
                            <tr>
                                <th>Name</th><th>Rank</th><th>Unit</th><th>Branch</th><th>Weapon</th><th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="scoreboardBody">
                            <tr><td colspan="6" style="text-align:center;padding:30px;color:#64748b;">No soldiers generated yet...</td></tr>
                        </tbody>
                    </table>
                </div>

            </div>
        </div>
    </div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
<script>
// ==================== FIREBASE CONFIG ====================
const firebaseConfig = {
    apiKey: "AIzaSyCfMqEZfO8mf3pA3w0wW-ivHWIQF39SA1E",
    authDomain: "us-army-generator.firebaseapp.com",
    projectId: "us-army-generator",
    storageBucket: "us-army-generator.firebasestorage.app",
    messagingSenderId: "15384107814",
    appId: "1:15384107814:web:97990e119943487cca3fe7"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// ==================== GLOBAL VARS ====================
let currentLanguage = 'en';
let selectedBranch = 'army';
let generatedHistory = [];
let scoreboard = [];

// ==================== TRANSLATIONS ====================
const translations = {
    en: { headerTitle:"ğŸ‡ºğŸ‡¸ US Military Rank Generator", headerSubtitle:"Generate your authentic US military rank and unit assignment", nameLabel:"Your Name:", branchLabel:"Military Branch:", armyBtn:"ğŸª– Army", navyBtn:"âš“ Navy", airForceBtn:"âœˆï¸ Air Force", marinesBtn:"ğŸ–ï¸ Marines", spaceForceBtn:"ğŸš€ Space Force", coastGuardBtn:"â›´ï¸ Coast Guard", generateBtn:"ğŸ–ï¸ Generate Rank/Unit", aboutTitle:"About This Assignment", copyBtn:"ğŸ“‹ Copy to Clipboard", historyText:"Recent generations will appear here...", noNameError:"Please enter your name", copySuccess:"Military rank copied to clipboard!", copyError:"Failed to copy: ", noResultError:"No result to copy!", assignment:"Assignment", equipment:"Assigned Equipment", weapon:"Assigned Weapon", madeBy:"Made By Alan", unitProfile:"ğŸ›ï¸ Unit Profile", equipmentDetails:"âš™ï¸ Equipment Details", historicalContext:"ğŸ“œ Historical Context", role:"Role", features:"Features", weaponSpecs:"ğŸ”« Weapon Specifications", historicalBackground:"ğŸ“œ Historical Background", active:"Active", clearBtn:"Clear Scoreboard" },
    id: { headerTitle:"ğŸ‡ºğŸ‡¸ Generator Pangkat Militer AS", headerSubtitle:"Hasilkan pangkat dan penugasan unit militer AS yang autentik", nameLabel:"Nama Anda:", branchLabel:"Cabang Militer:", armyBtn:"ğŸª– Angkatan Darat", navyBtn:"âš“ Angkatan Laut", airForceBtn:"âœˆï¸ Angkatan Udara", marinesBtn:"ğŸ–ï¸ Marinir", spaceForceBtn:"ğŸš€ Angkatan Antariksa", coastGuardBtn:"â›´ï¸ Penjaga Pantai", generateBtn:"ğŸ–ï¸ Hasilkan Pangkat/Unit", aboutTitle:"Tentang Penugasan Ini", copyBtn:"ğŸ“‹ Salin ke Clipboard", historyText:"Generasi terbaru akan muncul di sini...", noNameError:"Masukkan nama Anda", copySuccess:"Pangkat militer berhasil disalin!", copyError:"Gagal menyalin: ", noResultError:"Tidak ada hasil untuk disalin!", assignment:"Penugasan", equipment:"Alutsista yang Ditetapkan", weapon:"Senjata yang Ditetapkan", madeBy:"Dibuat Oleh Alan", unitProfile:"ğŸ›ï¸ Profil Unit", equipmentDetails:"âš™ï¸ Detail Alutsista", historicalContext:"ğŸ“œ Konteks Sejarah", role:"Peran", features:"Fitur", weaponSpecs:"ğŸ”« Spesifikasi Senjata", historicalBackground:"ğŸ“œ Latar Belakang Sejarah", active:"Aktif", clearBtn:"Hapus Scoreboard" },
    zh: { headerTitle:"ğŸ‡ºğŸ‡¸ ç¾å†›å†›è¡”ç”Ÿæˆå™¨", headerSubtitle:"ç”Ÿæˆæ‚¨çœŸå®çš„ç¾å›½å†›è¡”å’Œéƒ¨é˜Ÿåˆ†é…", nameLabel:"æ‚¨çš„å§“å:", branchLabel:"å†›äº‹éƒ¨é—¨:", armyBtn:"ğŸª– é™†å†›", navyBtn:"âš“ æµ·å†›", airForceBtn:"âœˆï¸ ç©ºå†›", marinesBtn:"ğŸ–ï¸ æµ·å†›é™†æˆ˜é˜Ÿ", spaceForceBtn:"ğŸš€ å¤ªç©ºå†›", coastGuardBtn:"â›´ï¸ æµ·å²¸è­¦å«é˜Ÿ", generateBtn:"ğŸ–ï¸ ç”Ÿæˆå†›è¡”/å•ä½", aboutTitle:"å…³äºæ­¤ä»»åŠ¡", copyBtn:"ğŸ“‹ å¤åˆ¶åˆ°å‰ªè´´æ¿", historyText:"æœ€è¿‘ç”Ÿæˆå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...", noNameError:"è¯·è¾“å…¥æ‚¨çš„å§“å", copySuccess:"å†›è¡”å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼", copyError:"å¤åˆ¶å¤±è´¥ï¼š", noResultError:"æ²¡æœ‰ç»“æœå¯å¤åˆ¶ï¼", assignment:"ä»»åŠ¡åˆ†é…", equipment:"åˆ†é…è£…å¤‡", weapon:"åˆ†é…æ­¦å™¨", madeBy:"ç”±è‰¾ä¼¦åˆ¶ä½œ", unitProfile:"ğŸ›ï¸ éƒ¨é˜Ÿç®€ä»‹", equipmentDetails:"âš™ï¸ è£…å¤‡è¯¦æƒ…", historicalContext:"ğŸ“œ å†å²èƒŒæ™¯", role:"è§’è‰²", features:"ç‰¹ç‚¹", weaponSpecs:"ğŸ”« æ­¦å™¨è§„æ ¼", historicalBackground:"ğŸ“œ å†å²èƒŒæ™¯", active:"ç°å½¹", clearBtn:"æ¸…é™¤è®°åˆ†æ¿" },
    ja: { headerTitle:"ğŸ‡ºğŸ‡¸ ç±³è»éšç´šã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼", headerSubtitle:"æœ¬æ ¼çš„ãªç±³è»ã®éšç´šã¨éƒ¨éšŠé…å±ã‚’ç”Ÿæˆ", nameLabel:"ã‚ãªãŸã®åå‰:", branchLabel:"è»ã®éƒ¨é–€:", armyBtn:"ğŸª– é™¸è»", navyBtn:"âš“ æµ·è»", airForceBtn:"âœˆï¸ ç©ºè»", marinesBtn:"ğŸ–ï¸ æµ·å…µéšŠ", spaceForceBtn:"ğŸš€ å®‡å®™è»", coastGuardBtn:"â›´ï¸ æ²¿å²¸è­¦å‚™éšŠ", generateBtn:"ğŸ–ï¸ éšç´š/éƒ¨éšŠã‚’ç”Ÿæˆ", aboutTitle:"ã“ã®ä»»å‹™ã«ã¤ã„ã¦", copyBtn:"ğŸ“‹ ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼", historyText:"æœ€è¿‘ã®ç”ŸæˆãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™...", noNameError:"åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„", copySuccess:"è»éšç´šã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼", copyError:"ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸï¼š", noResultError:"ã‚³ãƒ”ãƒ¼ã™ã‚‹çµæœãŒã‚ã‚Šã¾ã›ã‚“ï¼", assignment:"ä»»å‹™", equipment:"å‰²ã‚Šå½“ã¦è£…å‚™", weapon:"å‰²ã‚Šå½“ã¦æ­¦å™¨", madeBy:"ã‚¢ãƒ©ãƒ³ä½œ", unitProfile:"ğŸ›ï¸ éƒ¨éšŠãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«", equipmentDetails:"âš™ï¸ è£…å‚™è©³ç´°", historicalContext:"ğŸ“œ æ­´å²çš„æ–‡è„ˆ", role:"å½¹å‰²", features:"ç‰¹å¾´", weaponSpecs:"ğŸ”« æ­¦å™¨ä»•æ§˜", historicalBackground:"ğŸ“œ æ­´å²çš„èƒŒæ™¯", active:"ç¾å½¹", clearBtn:"ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰ã‚’ã‚¯ãƒªã‚¢" },
    ru: { headerTitle:"ğŸ‡ºğŸ‡¸ Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ Ğ·Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ¡Ğ¨Ğ", headerSubtitle:"Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ ÑĞ²Ğ¾Ñ‘ Ğ½Ğ°ÑÑ‚Ğ¾ÑÑ‰ĞµĞµ Ğ²Ğ¾ĞµĞ½Ğ½Ğ¾Ğµ Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸ Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ", nameLabel:"Ğ’Ğ°ÑˆĞµ Ğ¸Ğ¼Ñ:", branchLabel:"Ğ’Ğ¸Ğ´ Ğ²Ğ¾Ğ¹ÑĞº:", armyBtn:"ğŸª– ĞÑ€Ğ¼Ğ¸Ñ", navyBtn:"âš“ Ğ¤Ğ»Ğ¾Ñ‚", airForceBtn:"âœˆï¸ Ğ’Ğ’Ğ¡", marinesBtn:"ğŸ–ï¸ ĞœĞ¾Ñ€Ğ¿ĞµÑ…Ğ¸", spaceForceBtn:"ğŸš€ ĞšĞ¾ÑĞ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ²Ğ¾Ğ¹ÑĞºĞ°", coastGuardBtn:"â›´ï¸ Ğ‘ĞµÑ€ĞµĞ³Ğ¾Ğ²Ğ°Ñ Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ°", generateBtn:"ğŸ–ï¸ Ğ¡Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ/Ñ‡Ğ°ÑÑ‚ÑŒ", aboutTitle:"Ğ Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğ¸", copyBtn:"ğŸ“‹ ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ", historyText:"ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ÑĞ²ÑÑ‚ÑÑ Ğ·Ğ´ĞµÑÑŒ...", noNameError:"Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ²Ğ°ÑˆĞµ Ğ¸Ğ¼Ñ", copySuccess:"Ğ—Ğ²Ğ°Ğ½Ğ¸Ğµ ÑĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ğ² Ğ±ÑƒÑ„ĞµÑ€!", copyError:"ĞÑˆĞ¸Ğ±ĞºĞ° ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ: ", noResultError:"ĞĞµÑ‡ĞµĞ³Ğ¾ ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ!", assignment:"ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ", equipment:"ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ğ°Ñ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ°", weapon:"ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ğ¾Ğµ Ğ¾Ñ€ÑƒĞ¶Ğ¸Ğµ", madeBy:"Ğ¡Ğ´ĞµĞ»Ğ°Ğ½Ğ¾ ĞĞ»Ğ°Ğ½Ğ¾Ğ¼", unitProfile:"ğŸ›ï¸ ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ Ğ¿Ğ¾Ğ´Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ñ", equipmentDetails:"âš™ï¸ Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ Ğ¾Ğ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ", historicalContext:"ğŸ“œ Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚", role:"Ğ Ğ¾Ğ»ÑŒ", features:"ĞÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸", weaponSpecs:"ğŸ”« Ğ¥Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ¸ÑÑ‚Ğ¸ĞºĞ¸ Ğ¾Ñ€ÑƒĞ¶Ğ¸Ñ", historicalBackground:"ğŸ“œ Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ÑĞ¿Ñ€Ğ°Ğ²ĞºĞ°", active:"ĞĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹", clearBtn:"ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ" },
    de: { headerTitle:"ğŸ‡ºğŸ‡¸ US-MilitÃ¤rrang-Generator", headerSubtitle:"Generieren Sie Ihren authentischen US-MilitÃ¤rrang und Einheit", nameLabel:"Ihr Name:", branchLabel:"MilitÃ¤rzweig:", armyBtn:"ğŸª– Heer", navyBtn:"âš“ Marine", airForceBtn:"âœˆï¸ Luftwaffe", marinesBtn:"ğŸ–ï¸ Marineinfanterie", spaceForceBtn:"ğŸš€ WeltraumstreitkrÃ¤fte", coastGuardBtn:"â›´ï¸ KÃ¼stenwache", generateBtn:"ğŸ–ï¸ Rang/Einheit generieren", aboutTitle:"Ãœber diese Aufgabe", copyBtn:"ğŸ“‹ In Zwischenablage kopieren", historyText:"Letzte Generierungen erscheinen hier...", noNameError:"Bitte geben Sie Ihren Namen ein", copySuccess:"MilitÃ¤rrang kopiert!", copyError:"Fehler beim Kopieren: ", noResultError:"Nichts zu kopieren!", assignment:"Aufgabe", equipment:"Zugewiesene AusrÃ¼stung", weapon:"Zugewiesene Waffe", madeBy:"Hergestellt von Alan", unitProfile:"ğŸ›ï¸ Einheitsprofil", equipmentDetails:"âš™ï¸ AusrÃ¼stungsdetails", historicalContext:"ğŸ“œ Historischer Kontext", role:"Rolle", features:"Merkmale", weaponSpecs:"ğŸ”« Waffenspezifikationen", historicalBackground:"ğŸ“œ Historischer Hintergrund", active:"Aktiv", clearBtn:"Anzeigetafel lÃ¶schen" }
};

// ==================== COMPLETE MILITARY DATA (ALL BRANCHES) ====================
const militaryData = {
    army: {
        ranks: ["PVT","PV2","PFC","SPC","CPL","SGT","SSG","SFC","MSG","1SG","SGM","CSM","SMA","WO1","CW2","CW3","CW4","CW5","2LT","1LT","CPT","MAJ","LTC","COL","BG","MG","LTG","GEN","GA"],
        unitTypes: [
            { name:"infantry", units:["1st Infantry Division","2nd Infantry Division","3rd Infantry Division","4th Infantry Division","10th Mountain Division","25th Infantry Division","82nd Airborne Division","101st Airborne Division","173rd Airborne Brigade"] },
            { name:"armor", units:["1st Armored Division","1st Cavalry Division","3rd Armored Division","4th Infantry Division (Mech)","11th Armored Cavalry Regiment"] },
            { name:"special", units:["75th Ranger Regiment","1st SFOD-Delta (Delta Force)","1st Special Forces Group","3rd Special Forces Group","5th Special Forces Group","7th Special Forces Group","10th Special Forces Group","160th SOAR","95th Civil Affairs Brigade"] },
            { name:"artillery", units:["1st Field Artillery Brigade","41st Field Artillery Brigade","III Corps Artillery","18th Field Artillery Brigade","210th Field Artillery Brigade"] },
            { name:"aviation", units:["160th SOAR","12th Combat Aviation Brigade","1st Combat Aviation Brigade","4th Combat Aviation Brigade","10th Combat Aviation Brigade"] },
            { name:"engineering", units:["20th Engineer Brigade","18th Engineer Brigade","36th Engineer Brigade","412th Theater Engineer Command","926th Engineer Brigade"] }
        ],
        assignments: {
            infantry: ["Rifleman","Grenadier","Squad Leader","Fire Team Leader","Machine Gunner","Anti-Armor Specialist","Reconnaissance Scout","Platoon Sergeant"],
            armor: ["Tank Commander","Gunner","Driver","Loader","Armored Cavalry Scout","Armor Platoon Leader"],
            special: ["Direct Action Operator","HALO/HAHO Jumper","Combat Controller","JTAC Specialist","Foreign Internal Defense Advisor","Unconventional Warfare Specialist"],
            artillery: ["Cannon Crewmember","Fire Direction Specialist","Radar Operator","Firing Battery Chief","Forward Observer"],
            aviation: ["Pilot","Co-Pilot","Flight Engineer","Door Gunner","Crew Chief","Aviation Maintenance Officer"],
            engineering: ["Combat Engineer","Sapper","Bridge Crewmember","Mine Clearance Specialist","Horizontal Construction Engineer"]
        },
        equipment: {
            infantry: ["M4A1 Carbine","M16A4 Rifle","M249 SAW","M240B Machine Gun","FGM-148 Javelin","M136 AT4","BGM-71 TOW","JLTV","HMMWV","Stryker ICV"],
            armor: ["M1A2 SEP v3 Abrams","M1A2 SEP v4 Abrams","M2A3 Bradley","M2A4 Bradley","M3 Bradley","M1A1 AIM Abrams","M88A2 Hercules","M104 Wolverine"],
            special: ["HK416","SOPMOD M4A1","Mk 17 SCAR-H","Mk 16 SCAR-L","M110A1 CSASS","Mk 13 Sniper Rifle","JLTV","MH-60M Black Hawk"],
            artillery: ["M109A7 Paladin","M109A6 Paladin","M142 HIMARS","M270A1 MLRS","M777A2 Howitzer","M119A3 Howitzer"],
            aviation: ["AH-64E Apache Guardian","UH-60M Black Hawk","CH-47F Chinook","OH-58D Kiowa","MH-60M Black Hawk","MH-47G Chinook"],
            engineering: ["M9 ACE","M1150 ABV","M58 Wolf","HMMWV","M1070 HET","HEMTT"]
        },
        weapons: {
            infantry: ["M4 Carbine","M4A1","M16A4","M249 SAW","M240B","M2HB","M320 GLM","FGM-148 Javelin","M136 AT4","BGM-71 TOW","M17/M18","M110 SASS"],
            armor: ["M17/M18","M240 Coax","M2HB","M9 Beretta (legacy)"],
            special: ["HK416","Mk 17 SCAR-H","Mk 16 SCAR-L","M110A1","Mk 13","Mk 20 SSR","M17/M18","Mk 23 SOCOM"],
            artillery: ["M17/M18","M240B","M4 Carbine"],
            aviation: ["M17/M18","M4A1","M240H","M134 Minigun","GAU-19"],
            engineering: ["M4A1","M17/M18","M240B"]
        }
    },
    navy: {
        ranks: ["SR","SA","SN","PO3","PO2","PO1","CPO","SCPO","MCPO","MCPON","ENS","LTJG","LT","LCDR","CDR","CAPT","RDML","RADM","VADM","ADM","FADM"],
        unitTypes: [
            { name:"carriers", units:["USS Gerald R. Ford (CVN-78)","USS Nimitz (CVN-68)","USS Dwight D. Eisenhower (CVN-69)","USS Carl Vinson (CVN-70)","USS Theodore Roosevelt (CVN-71)","USS Abraham Lincoln (CVN-72)","USS George Washington (CVN-73)","USS John C. Stennis (CVN-74)","USS Harry S. Truman (CVN-75)","USS Ronald Reagan (CVN-76)","USS George H.W. Bush (CVN-77)","USS John F. Kennedy (CVN-79)"] },
            { name:"destroyers", units:["USS Zumwalt (DDG-1000)","USS Michael Monsoor (DDG-1001)","USS Arleigh Burke (DDG-51)","USS Barry (DDG-52)","USS John Paul Jones (DDG-53)","USS Curtis Wilbur (DDG-54)","USS The Sullivans (DDG-68)","USS Cole (DDG-67)","USS Bainbridge (DDG-96)","USS Gridley (DDG-101)","USS Jason Dunham (DDG-109)","USS Wayne E. Meyer (DDG-108)"] },
            { name:"submarines", units:["USS Virginia (SSN-774)","USS Texas (SSN-775)","USS Hawaii (SSN-776)","USS North Carolina (SSN-777)","USS New Hampshire (SSN-778)","USS New Mexico (SSN-779)","USS Missouri (SSN-780)","USS California (SSN-781)","USS Mississippi (SSN-782)","USS Minnesota (SSN-783)","USS North Dakota (SSN-784)","USS Ohio (SSBN-726)","USS Michigan (SSGN-727)","USS Florida (SSGN-728)","USS Georgia (SSGN-729)"] },
            { name:"amphibious", units:["USS America (LHA-6)","USS Tripoli (LHA-7)","USS Wasp (LHD-1)","USS Essex (LHD-2)","USS Kearsarge (LHD-3)","USS Boxer (LHD-4)","USS Bataan (LHD-5)","USS Bonhomme Richard (LHD-6)","USS Iwo Jima (LHD-7)","USS Makin Island (LHD-8)","USS San Antonio (LPD-17)","USS New Orleans (LPD-18)"] },
            { name:"seals", units:["SEAL Team 1","SEAL Team 2","SEAL Team 3","SEAL Team 4","SEAL Team 5","SEAL Team 6 (DEVGRU)","SEAL Team 7","SEAL Team 8","SEAL Team 10","SEAL Delivery Vehicle Team 1","SEAL Delivery Vehicle Team 2"] },
            { name:"patrol", units:["Patrol Squadron VP-1","Patrol Squadron VP-4","Patrol Squadron VP-5","Patrol Squadron VP-8","Patrol Squadron VP-9","Patrol Squadron VP-10","Patrol Squadron VP-16","Patrol Squadron VP-26","Patrol Squadron VP-30","Patrol Squadron VP-40","Patrol Squadron VP-45","Patrol Squadron VP-46"] }
        ],
        assignments: {
            carriers: ["Aircraft Handler","Flight Deck Crew","Aviation Boatswains Mate","Damage Control Specialist","Navigation Watch","Combat Information Center Operator","Air Traffic Controller","Catapult & Arresting Gear Operator"],
            destroyers: ["Gunfire Control Specialist","Combat Systems Operator","Surface Warfare Officer","Anti-Submarine Warfare Operator","Aegis System Operator","Electronic Warfare Technician"],
            submarines: ["Sonar Technician","Torpedoman","Navigation Technician","Nuclear Reactor Operator","Fire Control Technician","Submarine Officer","Missile Technician"],
            amphibious: ["Assault Wave Commander","Amphibious Operations Specialist","Well Deck Supervisor","Landing Craft Operator","Combat Cargo Officer"],
            seals: ["Combat Swimmer","HALO Operator","Sniper","Explosives Expert","Reconnaissance Specialist","Direct Action Operator","Special Reconnaissance Operator"],
            patrol: ["Mission Commander","Tactical Coordinator","Acoustic Sensor Operator","MAD Operator","Sonobuoy Operator","Navigator"]
        },
        equipment: {
            carriers: ["F-35C Lightning II","F/A-18E/F Super Hornet","EA-18G Growler","E-2D Hawkeye","CMV-22B Osprey","MH-60R Seahawk","MH-60S Knighthawk"],
            destroyers: ["Mk 45 5-inch Gun","Aegis Combat System","Tomahawk Cruise Missile","SM-2/SM-3/SM-6 Missiles","MH-60R Seahawk","AN/SQS-53C Sonar","Phalanx CIWS"],
            submarines: ["Mk 48 ADCAP Torpedo","Tomahawk Cruise Missile","UUM-44 SUBROC","BGM-109 Tomahawk","UGM-133A Trident II","Advanced SEAL Delivery System"],
            amphibious: ["AAV-7A1","Landing Craft Air Cushion (LCAC)","Landing Craft Utility (LCU)","F-35B Lightning II","AH-1Z Viper","UH-1Y Venom"],
            seals: ["Mk 17 SCAR-H","HK416","Mk 12 SPR","Mk 13 Sniper","Mk 11 MOD 0","CRRC","Dry Combat Submersible","SDV"],
            patrol: ["P-8 Poseidon","P-3 Orion","MH-60R Seahawk","Mk 54 Torpedo","Harpoon Missile","MQ-4C Triton"]
        },
        weapons: {
            carriers: ["M17/M18","M4A1","M9 Beretta (legacy)","GAU-17/A","GAU-19"],
            destroyers: ["M17/M18","M4A1","Mk 45 5-inch Gun","Phalanx CIWS","M2HB"],
            submarines: ["Mk 48 ADCAP Torpedo","Tomahawk","M17/M18","M4A1"],
            amphibious: ["M17/M18","M4A1","M240B","M2HB"],
            seals: ["Mk 17 SCAR-H","HK416","Mk 25 (SIG P226)","Mk 24","Mk 23 SOCOM","Mk 11","Mk 12","Mk 13"],
            patrol: ["M17/M18","M4A1","Harpoon Missile","Mk 54 Torpedo"]
        }
    },
    'air-force': {
        ranks: ["AB","Amn","A1C","SrA","SSgt","TSgt","MSgt","SMSgt","CMSgt","CMSAF","2d Lt","1st Lt","Capt","Maj","Lt Col","Col","Brig Gen","Maj Gen","Lt Gen","Gen","Gen of AF"],
        unitTypes: [
            { name:"fighters", units:["1st Fighter Wing (Langley)","3rd Wing (Elmendorf)","4th Fighter Wing","8th Fighter Wing","20th Fighter Wing","35th Fighter Wing","36th Wing","49th Wing","52nd Fighter Wing","56th Fighter Wing","57th Wing","388th Fighter Wing","422d TES","53d Wing"] },
            { name:"bombers", units:["2nd Bomb Wing (B-52)","5th Bomb Wing (B-52)","7th Bomb Wing (B-1B)","28th Bomb Wing (B-1B)","509th Bomb Wing (B-2)","131st Bomb Wing (B-2)","307th Bomb Wing (B-52)"] },
            { name:"recon", units:["55th Wing (RC-135)","97th Air Mobility Wing","55th Electronic Combat Group","480th Intelligence Wing","70th Intelligence Wing","566th Intelligence Squadron"] },
            { name:"specops", units:["1st Special Operations Wing","27th Special Operations Wing","58th Special Operations Wing","193rd Special Operations Wing","919th Special Operations Wing","352nd Special Operations Wing","353rd Special Operations Wing"] },
            { name:"space", units:["Space Delta 2","Space Delta 3","Space Delta 4","Space Delta 5","Space Delta 6","Space Delta 7","Space Delta 8","Space Delta 9","21st Space Wing","50th Space Wing","460th Space Wing","1st Space Operations Squadron","2nd Space Operations Squadron"] },
            { name:"mobility", units:["60th Air Mobility Wing (C-5)","62nd Airlift Wing (C-17)","436th Airlift Wing (C-17)","437th Airlift Wing (C-17)","305th Air Mobility Wing (KC-10/KC-46)","319th Air Refueling Wing","916th Air Refueling Wing","22nd Air Refueling Wing"] },
            { name:"drones", units:["432nd Wing (MQ-9 Reaper)","556th Test & Evaluation Squadron","556th Test Sq RPA","12th Reconnaissance Squadron (RQ-4)","29th Attack Squadron","432nd Air Expeditionary Wing","AFSOC Drone Operations"] }
        ],
        assignments: {
            fighters: ["F-22 Raptor Pilot","F-35A Pilot","F-15EX Pilot","F-16 Pilot","A-10 Pilot","Weapon Systems Officer","Electronic Warfare Officer"],
            bombers: ["B-2 Pilot","B-52 Pilot","B-1B Pilot","Aircraft Commander","Radar Navigator","Electronic Warfare Officer","Weapons Officer"],
            recon: ["RC-135 Mission Crew Commander","Electronic Intelligence Analyst","Signals Intelligence Operator","P-8 Mission Commander","RC-26B Reconnaissance Pilot"],
            specops: ["AC-130 Gunship Pilot","MC-130 Special Operations Pilot","HC-130J Rescue Pilot","CV-22 Pilot","Pararescueman (PJ)","Combat Controller (CCT)","Special Reconnaissance Operator"],
            space: ["Satellite Operations Specialist","GPS Control Specialist","Space Situational Awareness Officer","Missile Warning Officer","Space Electronic Warfare Officer","X-37B Mission Controller"],
            mobility: ["C-17 Aircraft Commander","C-5 Pilot","KC-46A Boom Operator","C-130 Pilot","Loadmaster","Aerial Refueling Mission Commander"],
            drones: ["MQ-9 Reaper Pilot","RQ-4 Global Hawk Pilot","RQ-170 Mission Coordinator","XQ-58 Test Pilot","Remotely Piloted Aircraft Sensor Operator"]
        },
        equipment: {
            fighters: ["F-22 Raptor","F-35A Lightning II","F-15EX Eagle II","F-15C Eagle","F-15E Strike Eagle","F-16C Fighting Falcon","A-10C Thunderbolt II"],
            bombers: ["B-2A Spirit","B-52H Stratofortress","B-1B Lancer","B-21 Raider"],
            recon: ["RC-135V/W Rivet Joint","RC-135U Combat Sent","WC-135 Constant Phoenix","WC-130J Hurricane Hunter","MC-12W Liberty","U-2S Dragon Lady","SR-71 Blackbird (historical)"],
            specops: ["AC-130J Ghostrider","AC-130W Stinger II","MC-130J Commando II","HC-130J Combat King II","CV-22 Osprey","HH-60W Jolly Green II","C-146A Wolfhound"],
            space: ["GPS III Satellite","SBIRS Missile Warning Satellite","WGS Wideband Global SATCOM","X-37B Orbital Test Vehicle","AEHF Satellite","MUOS Satellite","GSSAP Satellite"],
            mobility: ["C-17A Globemaster III","C-5M Super Galaxy","KC-46A Pegasus","KC-135R Stratotanker","C-130J Super Hercules","C-40C Clipper","VC-25A Air Force One"],
            drones: ["MQ-9 Reaper","RQ-4B Global Hawk","RQ-170 Sentinel","RQ-180 (classified)","XQ-58 Valkyrie","WC-130J Weather Recon","Global Observer"]
        },
        weapons: {
            fighters: ["M61A2 Vulcan","GAU-22/A (F-35A)","AIM-9X Sidewinder","AIM-120 AMRAAM","AIM-260 JATM","AGM-65 Maverick","JDAM","M17/M18"],
            bombers: ["B61-12 Gravity Bomb","AGM-86B ALCM","JASSM-ER","GBU-57 MOP","B83 Nuclear Bomb","M17/M18","M4A1"],
            recon: ["M17/M18","M4A1"],
            specops: ["GAU-23 30mm Cannon","M102 105mm Howitzer","GAU-18 .50 Cal","HK416","M4A1","M17/M18"],
            space: ["M17/M18","M4A1"],
            mobility: ["M17/M18","M4A1"],
            drones: ["AGM-114 Hellfire","GBU-12 Paveway","GBU-38 JDAM","AGM-176 Griffin","Stormbreaker SDB II"]
        }
    },
    marines: {
        ranks: ["Pvt","PFC","LCpl","Cpl","Sgt","SSgt","GySgt","MSgt","1stSgt","MGySgt","SgtMaj","SgtMajMC","WO","CWO2","CWO3","CWO4","CWO5","2ndLt","1stLt","Capt","Maj","LtCol","Col","BGen","MajGen","LtGen","Gen"],
        unitTypes: [
            { name:"infantry", units:["1st Marine Division","2nd Marine Division","3rd Marine Division","1st Marine Regiment","5th Marine Regiment","7th Marine Regiment","3rd Marine Regiment","4th Marine Regiment","6th Marine Regiment","8th Marine Regiment","11th Marine Regiment","12th Marine Regiment","1st Battalion 1st Marines","3rd Battalion 5th Marines"] },
            { name:"aviation", units:["1st Marine Aircraft Wing","2nd Marine Aircraft Wing","3rd Marine Aircraft Wing","4th Marine Aircraft Wing","Marine Fighter Attack Squadron VMFA-101","Marine Fighter Attack Squadron VMFA-121","Marine Fighter Attack Squadron VMFA-311","Marine Attack Squadron VMA-211","Marine Attack Squadron VMA-513","Marine Medium Tiltrotor Squadron VMM-166"] },
            { name:"special", units:["1st Marine Raider Battalion","2nd Marine Raider Battalion","3rd Marine Raider Battalion","4th Marine Raider Battalion","MARSOC MSOB","Marine Raider Training Center","Marine Raider Support Group","Marine Raider Regiment"] },
            { name:"armor", units:["1st Tank Battalion","2nd Tank Battalion","4th Tank Battalion","3rd Assault Amphibian Battalion","1st Light Armored Reconnaissance Battalion","2nd Light Armored Reconnaissance Battalion","3rd Light Armored Reconnaissance Battalion","4th Light Armored Reconnaissance Battalion"] },
            { name:"recon", units:["1st Reconnaissance Battalion","2nd Reconnaissance Battalion","3rd Reconnaissance Battalion","4th Reconnaissance Battalion","1st Force Reconnaissance Company","2nd Force Reconnaissance Company","3rd Force Reconnaissance Company"] }
        ],
        assignments: {
            infantry: ["Rifleman","Automatic Rifleman","Assistant Automatic Rifleman","Grenadier","Machine Gunner","Mortarman","Anti-Tank Missileman","Squad Leader","Platoon Sergeant"],
            aviation: ["F-35B Pilot","AV-8B Harrier Pilot","AH-1Z Pilot","UH-1Y Pilot","MV-22 Pilot","CH-53 Pilot","Weapon Systems Officer","Crew Chief"],
            special: ["Marine Raider","Critical Skills Operator","Marine Special Operations Team Leader","Marine Raider Support Operator","MARSOC Intelligence Analyst"],
            armor: ["AAV-7 Crewman","LAV-25 Crewman","ACV Operator","M1A1 Tank Commander","Assault Amphibious Vehicle Crew"],
            recon: ["Force Recon Marine","Reconnaissance Marine","Scout Sniper","ANGLICO Operator","Ground Sensor Operator"]
        },
        equipment: {
            infantry: ["M27 IAR","M4A1 Carbine","M249 SAW","M240B Machine Gun","M40A6 Sniper Rifle","Mk 18 CQBR","Mk 153 SMAW","M136 AT4","FGM-148 Javelin","M320 GLM"],
            aviation: ["F-35B Lightning II","AV-8B Harrier II","AH-1Z Viper","UH-1Y Venom","MV-22B Osprey","CH-53E Super Stallion","CH-53K King Stallion"],
            special: ["Mk 17 SCAR-H","HK416","Mk 13","Mk 11 MOD 0","Suppressed M4A1","M40A6","CRRC","JLTV"],
            armor: ["M1A1 AIM Abrams","LAV-25","AAV-7A1","ACV 1.1","Stryker (limited)","LAV-AT","LAV-M"],
            recon: ["M40A6","M110A1","Mk 12 SPR","Suppressed M4A1","CRRC","Maritime Gear"]
        },
        weapons: {
            infantry: ["M27 IAR","M4A1","M16A4","M40A6","M249 SAW","M240B","M2HB","M320 GLM","Mk 153 SMAW","FGM-148 Javelin"],
            aviation: ["M17/M18","M4A1","GAU-17/A","GAU-21"],
            special: ["Mk 17 SCAR-H","HK416","Mk 13","Mk 25 (SIG P226)","M45A1 MEUSOC"],
            armor: ["M17/M18","M4A1","M240B","M2HB"],
            recon: ["M40A6","M110A1","Mk 12 SPR","M4A1","M17/M18"]
        }
    },
    'space-force': {
        ranks: ["Spc1","Spc2","Spc3","Spc4","Sgt","TSgt","MSgt","SMSgt","CMSgt","CMSSF","2d Lt","1st Lt","Capt","Maj","Lt Col","Col","Brig Gen","Maj Gen","Lt Gen","Gen"],
        unitTypes: [
            { name:"space_ops", units:["Space Delta 2 (Intelligence)","Space Delta 3 (Electronic Warfare)","Space Delta 4 (Missile Warning)","Space Delta 5 (Command & Control)","Space Delta 6 (Cybersecurity)","Space Delta 7 (ISR)","Space Delta 8 (Satellite Communications)","Space Delta 9 (Orbital Warfare)","Space Delta 10 (Electromagnetic Spectrum)","Space Delta 11 (Tactical Systems)","1st Space Operations Squadron","2nd Space Operations Squadron","3rd Space Operations Squadron","4th Space Operations Squadron","18th Space Control Squadron","19th Space Operations Squadron","21st Space Operations Squadron"] },
            { name:"launch", units:["Space Launch Delta 30","Space Launch Delta 45","30th Space Wing","45th Space Wing","Launch Squadron 1","Launch Squadron 2","1st Range Operations Squadron","2nd Range Operations Squadron"] }
        ],
        assignments: {
            space_ops: ["GPS Satellite Operator","Missile Warning Officer","Space Situational Awareness Analyst","Orbital Warfare Officer","Electronic Warfare Specialist","Cyber Operations Officer","Space Battle Management Operator","Intelligence Analysis Officer","SATCOM Operator","Space Domain Awareness Analyst"],
            launch: ["Range Safety Officer","Launch Mission Director","Launch Operations Manager","Space Vehicle Integration Specialist","Propulsion Systems Engineer","Range Control Officer"]
        },
        equipment: {
            space_ops: ["GPS III Satellite","SBIRS Missile Warning Satellite","WGS Satellite","AEHF Satellite","MUOS Satellite","GSSAP Satellite","X-37B OTV","ORS-5 Satellite","Space Fence Radar","GEODSS Telescope","LSSC Ground Station","AN/FSQ-7 Space Track"],
            launch: ["ULA Atlas V","ULA Delta IV Heavy","SpaceX Falcon 9","SpaceX Falcon Heavy","ULA Vulcan Centaur","SLS (support)"]
        },
        weapons: {
            space_ops: ["M17/M18","M4A1","Electronic Warfare Systems"],
            launch: ["M17/M18","M4A1"]
        }
    },
    'coast-guard': {
        ranks: ["SN","SA","SR","PO3","PO2","PO1","CPO","SCPO","MCPO","MCPOCG","ENS","LTJG","LT","LCDR","CDR","CAPT","RDML","RADM","VADM","ADM"],
        unitTypes: [
            { name:"cutters", units:["USCGC Bertholf (WMSL-750)","USCGC Waesche (WMSL-751)","USCGC Stratton (WMSL-752)","USCGC Hamilton (WMSL-753)","USCGC James (WMSL-754)","USCGC Munro (WMSL-755)","USCGC Kimball (WMSL-756)","USCGC Midgett (WMSL-757)","USCGC Polar Star (WAGB-10)","USCGC Polar Sea (WAGB-11)","USCGC Healy (WAGB-20)","USCGC Thetis (WMEC-910)","USCGC Forward (WMEC-911)","USCGC Dependable (WMEC-626)","USCGC Vigorous (WMEC-627)"] },
            { name:"patrol", units:["Sector San Diego","Sector Los Angeles-Long Beach","Sector San Francisco","Sector Columbia River","Sector Puget Sound","Sector Miami","Sector Key West","Sector New York","Sector Boston","Sector New Orleans","Sector Houston-Galveston","Sector Lake Michigan","Sector Detroit"] },
            { name:"aviation", units:["Air Station Barbers Point","Air Station Clearwater","Air Station Cape Cod","Air Station Corpus Christi","Air Station Detroit","Air Station Elizabeth City","Air Station Kodiak","Air Station Los Angeles","Air Station Miami","Air Station New Orleans","Air Station Port Angeles","Air Station Sacramento","Air Station San Diego","Air Station Sitka"] }
        ],
        assignments: {
            cutters: ["Helmsman","Quartermaster","Boatswain's Mate","Operations Specialist","Gunner's Mate","Damage Control Specialist","Maritime Enforcement Specialist","Intelligence Specialist","Machinery Technician","Electricians Mate"],
            patrol: ["Search and Rescue Coordinator","Maritime Law Enforcement Officer","Drug Interdiction Specialist","Port Security Specialist","Marine Safety Inspector","Aids to Navigation Technician","Marine Science Technician"],
            aviation: ["HC-144A Pilot","MH-60T Jayhawk Pilot","MH-65D Dolphin Pilot","HC-130H Pilot","Aircraft Commander","Aviation Survival Technician","Avionics Electrical Technician"]
        },
        equipment: {
            cutters: ["Legend-class National Security Cutter","Famous-class Medium Endurance Cutter","Reliance-class Medium Endurance Cutter","Sentinel-class Fast Response Cutter","Island-class Patrol Boat","Polar Icebreaker","Cyclone-class Patrol Ship"],
            patrol: ["Response Boat-Medium (RB-M)","Defender-class Response Boat","Transportable Port Security Boat","Coastal Patrol Boat","Aids to Navigation Boat"],
            aviation: ["HC-144A Ocean Sentry","MH-60T Jayhawk","MH-65D/E Dolphin","HC-130H Hercules","C-27J Spartan","MQ-8 Fire Scout"]
        },
        weapons: {
            cutters: ["Mk 110 57mm Gun","M2HB .50 Cal","Mk 38 25mm","M240B","M4A1","M17/M18","Mk 19 Grenade Launcher"],
            patrol: ["M4A1","M17/M18","M240B","M2HB"],
            aviation: ["M17/M18","M4A1","M240H"]
        }
    }
};

// ==================== UNIT DESCRIPTIONS (MULTILINGUAL) ====================
const unitDescriptions = {
    // --- Aircraft ---
    "F-22 Raptor": { en:{profile:"The F-22 Raptor is a fifth-generation air superiority fighter with stealth, supercruise, and advanced sensor fusion. No air threat can match its combined speed, agility, and lethality.",history:"Entered service 2005. Developed to counter advanced Soviet fighters. Has never been shot down in combat and maintains the world's most sophisticated electronic warfare suite."}, id:{profile:"F-22 Raptor adalah jet tempur superioritas udara generasi kelima dengan siluman, supercruise, dan fusi sensor canggih.",history:"Mulai bertugas 2005. Dikembangkan untuk menghadapi jet tempur Soviet canggih. Belum pernah ditembak jatuh."} },
    "F-35A Lightning II": { en:{profile:"The F-35A is a fifth-generation multirole stealth fighter for conventional takeoff/landing with internal weapons bays and sensor fusion.",history:"Entered service USAF 2016. Represents the most advanced networked warfare capability ever fielded."}, id:{profile:"F-35A adalah pesawat tempur siluman multiperan generasi kelima untuk lepas landas konvensional.",history:"Mulai bertugas USAF 2016. Mewakili kemampuan peperangan jaringan tercanggih."} },
    "F-35B Lightning II": { en:{profile:"The F-35B is the STOVL variant for the Marine Corps, operating from amphibious ships with a lift fan enabling vertical landing.",history:"Entered service USMC 2015. First combat use 2018 in Afghanistan. First STOVL aircraft combining stealth with supersonic speed."}, id:{profile:"F-35B adalah varian STOVL untuk Korps Marinir, beroperasi dari kapal amfibi.",history:"Mulai bertugas USMC 2015. Debut tempur 2018 di Afghanistan."} },
    "F-35C Lightning II": { en:{profile:"The F-35C is the carrier-based variant with larger wings and reinforced landing gear for catapult launches and arrested recoveries.",history:"Achieved IOC with Navy 2019. Replaces F/A-18C/D Hornet in frontline carrier service."}, id:{profile:"F-35C adalah varian berbasis kapal induk dengan sayap lebih besar untuk operasi dari kapal induk.",history:"IOC dengan Angkatan Laut 2019. Menggantikan F/A-18C/D Hornet."} },
    "F-15EX Eagle II": { en:{profile:"The F-15EX is the most advanced Eagle variant with digital fly-by-wire, EPAWSS electronic warfare, and capacity for hypersonic weapons.",history:"Entered service 2021. Cost-effective complement to the F-35 combining a proven airframe with cutting-edge systems."}, id:{profile:"F-15EX adalah varian Eagle paling canggih dengan fly-by-wire digital dan sistem peperangan elektronik EPAWSS.",history:"Mulai bertugas 2021."} },
    "F-16C Fighting Falcon": { en:{profile:"The F-16C is a compact multirole fighter with 9G maneuverability and a bubble canopy providing 360-degree pilot visibility.",history:"First flew 1974. Over 4,600 produced, adopted by 25+ nations. Still the backbone of many air forces worldwide."}, id:{profile:"F-16C adalah pesawat tempur multiperan kompak dengan kemampuan manuver 9G.",history:"Pertama terbang 1974. Lebih dari 4.600 diproduksi, diadopsi oleh 25+ negara."} },
    "A-10C Thunderbolt II": { en:{profile:"The A-10C 'Warthog' is dedicated to close air support, built around the devastating 30mm GAU-8 Avenger rotary cannon capable of defeating armored vehicles.",history:"Designed in 1970s specifically for tank killing. Desert Storm: destroyed 900+ Iraqi tanks and 2,000+ vehicles."}, id:{profile:"A-10C 'Warthog' adalah pesawat dukungan udara dekat yang dibangun di sekitar meriam GAU-8 Avenger.",history:"Dirancang 1970-an untuk membunuh tank. Desert Storm: menghancurkan 900+ tank Irak."} },
    "B-2A Spirit": { en:{profile:"The B-2A Spirit is a strategic stealth bomber with flying wing design, capable of penetrating the most advanced air defense networks to deliver conventional or nuclear weapons.",history:"First flew 1989. Each aircraft costs over $2 billion. First combat use Kosovo War 1999."}, id:{profile:"B-2A Spirit adalah pembom siluman strategis dengan desain sayap terbang.",history:"Pertama terbang 1989. Biaya lebih dari $2 miliar per pesawat. Pertama digunakan di Kosovo 1999."} },
    "B-52H Stratofortress": { en:{profile:"The B-52H is a long-range strategic bomber that has served since 1955 and is expected to remain operational until the 2050sâ€”the longest service life of any aircraft.",history:"In service since 1955. Continuously upgraded. Can carry 70,000 lbs of mixed ordnance including nuclear weapons."}, id:{profile:"B-52H adalah pembom strategis jarak jauh yang telah bertugas sejak 1955.",history:"Beroperasi sejak 1955. Terus diperbarui. Dapat membawa 70.000 lbs amunisi."} },
    "B-1B Lancer": { en:{profile:"The B-1B is a supersonic variable-sweep wing strategic bomber designed for high-speed, low-level penetration with massive conventional payload capacity.",history:"Originally nuclear; converted to conventional. Heavily used in Iraq, Afghanistan, Syria. Can carry 75,000 lbs payload."}, id:{profile:"B-1B adalah pembom strategis sayap variabel supersonik untuk penetrasi kecepatan tinggi.",history:"Awalnya nuklir; diubah ke konvensional. Banyak digunakan di Irak, Afghanistan, Suriah."} },
    "AC-130J Ghostrider": { en:{profile:"The AC-130J is the latest gunship variant, armed with a 30mm autocannon, 105mm howitzer, and precision-guided munitions including Hellfire and SDB.",history:"Replaced older AC-130H/U models. Brings digital avionics and standoff precision capability to the gunship mission."}, id:{profile:"AC-130J adalah varian gunship terbaru, dipersenjatai meriam 30mm, howitzer 105mm, dan amunisi presisi.",history:"Menggantikan AC-130H/U. Membawa avionik digital dan kemampuan presisi jarak jauh."} },
    "MC-130J Commando II": { en:{profile:"The MC-130J is a special operations variant for infiltration, exfiltration, and aerial refueling of special operations helicopters and tiltrotors.",history:"Latest Commando variant with advanced terrain-following radar, satellite communications, and stealth features."}, id:{profile:"MC-130J adalah varian operasi khusus untuk infiltrasi, eksfiltrasi, dan pengisian bahan bakar udara.",history:"Varian Commando terbaru dengan radar pengikut medan canggih."} },
    "HH-60W Jolly Green II": { en:{profile:"The HH-60W is the next-generation combat search and rescue helicopter, designed to recover downed aircrew and isolated personnel from hostile environments.",history:"Based on UH-60M. Features enhanced armor, FLIR, and defensive systems. Replacing the aging HH-60G Pave Hawk."}, id:{profile:"HH-60W adalah helikopter pencarian dan penyelamatan tempur generasi berikutnya.",history:"Berdasarkan UH-60M. Menampilkan armor yang ditingkatkan dan sistem pertahanan."} },
    "CV-22 Osprey": { en:{profile:"The CV-22 is the AFSOC tiltrotor combining helicopter vertical lift with fixed-wing speed and range, designed for long-range special operations infiltration.",history:"Features terrain-following radar, advanced electronic warfare, and aerial refueling capability for covert deep penetration missions."}, id:{profile:"CV-22 adalah tiltrotor AFSOC yang menggabungkan angkat vertikal helikopter dengan kecepatan sayap tetap.",history:"Menampilkan radar pengikut medan dan kemampuan pengisian bahan bakar udara untuk misi infiltrasi dalam."} },
    // --- Ships ---
    "USS Gerald R. Ford (CVN-78)": { en:{profile:"USS Gerald R. Ford is the lead ship of the most advanced carrier class, featuring electromagnetic catapults (EMALS), advanced arresting gear, and improved aircraft sortie rates.",history:"Commissioned 2017. First new carrier design in 40 years. Reduces crew requirements by 900 sailors vs Nimitz-class."}, id:{profile:"USS Gerald R. Ford adalah kapal induk paling canggih, menampilkan katapel elektromagnetik EMALS.",history:"Ditugaskan 2017. Desain kapal induk baru pertama dalam 40 tahun."} },
    "USS Nimitz (CVN-68)": { en:{profile:"USS Nimitz is the lead ship of the Nimitz-class, the most numerous class of nuclear-powered supercarriers. Displaces 100,000 tons and can operate 90+ aircraft.",history:"Commissioned 1975. Has served in every major conflict and crisis since Vietnam."}, id:{profile:"USS Nimitz adalah kapal induk berkekuatan nuklir terkemuka, memindahkan 100.000 ton.",history:"Ditugaskan 1975. Telah bertugas di setiap konflik besar sejak Vietnam."} },
    "USS Zumwalt (DDG-1000)": { en:{profile:"USS Zumwalt is a next-generation destroyer with stealth design, electric propulsion, and advanced weaponry including the 155mm Advanced Gun System.",history:"Commissioned 2016. Tumblehome hull gives a smaller radar cross-section than a fishing boat. Designed for land-attack."}, id:{profile:"USS Zumwalt adalah kapal perusak generasi berikutnya dengan desain siluman dan propulsi listrik.",history:"Ditugaskan 2016. Desain lambung memberikan penampang radar lebih kecil dari perahu nelayan."} },
    "USS Arleigh Burke (DDG-51)": { en:{profile:"USS Arleigh Burke is the lead ship of the most numerous destroyer class in the world, equipped with the Aegis Combat System for integrated air and missile defense.",history:"Commissioned 1991. Over 70 ships in class. Proven in every major conflict from Gulf War to present."}, id:{profile:"USS Arleigh Burke adalah kapal perusak utama dari kelas kapal perusak paling banyak di dunia dengan Sistem Tempur Aegis.",history:"Ditugaskan 1991. Lebih dari 70 kapal dalam kelas ini."} },
    "SEAL Team 6 (DEVGRU)": { en:{profile:"Naval Special Warfare Development Group (DEVGRU), commonly known as SEAL Team 6, is the most elite special operations unit in the U.S. Navy, conducting the most sensitive national missions.",history:"Established 1980 after Operation Eagle Claw failure. Responsible for Operation Neptune Spear killing Osama bin Laden in 2011."}, id:{profile:"DEVGRU, dikenal sebagai SEAL Team 6, adalah unit operasi khusus paling elite di Angkatan Laut AS.",history:"Dibentuk 1980. Bertanggung jawab atas Operation Neptune Spear yang menewaskan Osama bin Laden 2011."} },
    // --- Army Units ---
    "82nd Airborne Division": { en:{profile:"The 82nd Airborne Division is the only division-level rapid deployment airborne force in the world, capable of deploying globally within 18 hours.",history:"Activated 1917. 'America's Guard of Honor.' Has conducted combat jumps in WWII, Panama, Grenada. Deployed to 30+ conflicts."}, id:{profile:"Divisi Lintas Udara ke-82 adalah satu-satunya pasukan lintas udara yang dapat dikerahkan secara global dalam 18 jam.",history:"Diaktifkan 1917. 'Penjaga Kehormatan Amerika.' Melakukan lompatan tempur di berbagai konflik."} },
    "75th Ranger Regiment": { en:{profile:"The 75th Ranger Regiment is the premier light infantry and direct action raid force of the U.S. Army, capable of conducting raids and airfield seizures anywhere in the world on 18-hour notice.",history:"Founded 1974 with roots in WWII Ranger Battalions. Most decorated unit of any comparable size."}, id:{profile:"Resimen Ranger ke-75 adalah pasukan serangan langsung elite Angkatan Darat AS.",history:"Didirikan 1974 dengan akar di Batalion Ranger Perang Dunia II."} },
    "1st Infantry Division": { en:{profile:"The 'Big Red One' is the oldest continuously serving division in the U.S. Army, with a legacy of excellence in every major American conflict since World War I.",history:"Activated 1917. Fought in WWI, WWII (North Africa, Sicily, Normandy), Vietnam, Desert Storm, and OIF."}, id:{profile:"'Big Red One' adalah divisi tertua yang terus bertugas di Angkatan Darat AS.",history:"Diaktifkan 1917. Bertempur di WWI, WWII, Vietnam, Desert Storm, dan OIF."} },
    "101st Airborne Division": { en:{profile:"The 101st 'Screaming Eagles' is an air assault division specializing in helicopter-borne assault operations, capable of seizing decisive terrain deep behind enemy lines.",history:"Activated 1942. Famous for defense of Bastogne in WWII. Served in Vietnam, Desert Storm, Afghanistan, and Iraq."}, id:{profile:"101st 'Screaming Eagles' adalah divisi serangan udara yang mengkhususkan diri pada operasi berbasis helikopter.",history:"Diaktifkan 1942. Terkenal karena pertahanan Bastogne di WWII."} },
    // --- Marines ---
    "1st Marine Division": { en:{profile:"The 1st Marine Division is the oldest, largest, and most decorated division in the Marine Corpsâ€”the 'Old Breed'â€”with a reputation for ferocity unmatched in combat history.",history:"Activated 1941. Guadalcanal, Peleliu, Chosin Reservoir, Hue City, Fallujah. The most decorated division in USMC history."}, id:{profile:"Divisi Marinir ke-1 adalah divisi tertua, terbesar, dan paling didekorasi di Korps Marinir.",history:"Diaktifkan 1941. Guadalcanal, Peleliu, Chosin Reservoir, Hue City, Fallujah."} },
    "Marine Raider Regiment": { en:{profile:"The Marine Raider Regiment is the special operations force of the Marine Corps, conducting unconventional warfare, foreign internal defense, and direct action missions worldwide.",history:"Reactivated 2015. Heritage from WWII Marine Raiders. Now part of SOCOM, operating with Navy SEALs and Army Special Forces."}, id:{profile:"Resimen Marine Raider adalah pasukan operasi khusus Korps Marinir.",history:"Diaktifkan kembali 2015. Warisan dari Marine Raiders WWII."} },
    // --- Space Force ---
    "Space Delta 9 (Orbital Warfare)": { en:{profile:"Space Delta 9 is responsible for offensive and defensive orbital warfare operations, protecting U.S. space assets and countering adversary satellites when directed.",history:"Established 2020 as part of U.S. Space Force. Operates at Peterson Space Force Base, Colorado."}, id:{profile:"Space Delta 9 bertanggung jawab atas operasi peperangan orbital ofensif dan defensif.",history:"Dibentuk 2020 sebagai bagian dari Angkatan Luar Angkasa AS."} },
    "Space Delta 4 (Missile Warning)": { en:{profile:"Space Delta 4 operates missile warning satellites providing early detection of ballistic missile launches anywhere in the world within seconds.",history:"Operates SBIRS satellites. Provides warning for ICBM, SLBM, and tactical missile launches globally."}, id:{profile:"Space Delta 4 mengoperasikan satelit peringatan rudal yang mendeteksi peluncuran rudal balistik.",history:"Mengoperasikan satelit SBIRS. Memberikan peringatan untuk peluncuran ICBM, SLBM, dan rudal taktis."} },
    // --- Coast Guard ---
    "USCGC Bertholf (WMSL-750)": { en:{profile:"USCGC Bertholf is the lead ship of the Legend-class National Security Cutter, the largest and most technically advanced class of cutters ever built for the Coast Guard.",history:"Commissioned 2008. Named for CG founder Ellsworth Bertholf. Displaces 4,500 tons, range of 12,000 nm."}, id:{profile:"USCGC Bertholf adalah kapal pemimpin kelas Legend, kelas pemotong paling canggih yang pernah dibangun untuk Penjaga Pantai.",history:"Ditugaskan 2008. Memiliki bobot 4.500 ton, jangkauan 12.000 nm."} }
};

// ==================== WEAPONS DATABASE ====================
const weaponsDB = {
    "M4 Carbine":          { type:"Assault Carbine", caliber:"5.56Ã—45mm NATO", manufacturer:"Colt's Manufacturing / FN America", service_years:"1994-Present", weight:"2.88 kg", length:"838 mm", history:{en:"Standard U.S. military carbine. Shorter and lighter than M16, ideal for vehicle crews and special operations.",id:"Karabin standar militer AS. Lebih pendek dan ringan dari M16.",zh:"ç¾å›½å†›ç”¨æ ‡å‡†å¡å®¾æªã€‚æ¯”M16æ›´çŸ­æ›´è½»ã€‚",ja:"ç±³è»æ¨™æº–ã‚«ãƒ¼ãƒ“ãƒ³ã€‚M16ã‚ˆã‚ŠçŸ­ãè»½ã„ã€‚",ru:"Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğ¹ ĞºĞ°Ñ€Ğ°Ğ±Ğ¸Ğ½ Ğ°Ñ€Ğ¼Ğ¸Ğ¸ Ğ¡Ğ¨Ğ. ĞšĞ¾Ñ€Ğ¾Ñ‡Ğµ Ğ¸ Ğ»ĞµĞ³Ñ‡Ğµ M16.",de:"Standardkarabiner des US-MilitÃ¤rs. KÃ¼rzer und leichter als M16."} },
    "M4A1":                { type:"Assault Carbine (Full-Auto)", caliber:"5.56Ã—45mm NATO", manufacturer:"Colt's Manufacturing / FN America", service_years:"1994-Present", weight:"2.88 kg", length:"838 mm", history:{en:"M4A1 replaces burst-fire with full-auto capability and features a heavy barrel for sustained fire. Standard for special operations.",id:"M4A1 menggantikan tembakan burst dengan full-auto. Standar untuk operasi khusus.",zh:"M4A1ç”¨å…¨è‡ªåŠ¨æ›¿æ¢ç‚¹å°„åŠŸèƒ½ï¼Œæ˜¯ç‰¹ç§ä½œæˆ˜çš„æ ‡å‡†æ­¦å™¨ã€‚",ja:"M4A1ã¯ãƒãƒ¼ã‚¹ãƒˆå°„æ’ƒã‚’ãƒ•ãƒ«ã‚ªãƒ¼ãƒˆã«å¤‰æ›´ã€‚ç‰¹æ®Šä½œæˆ¦ã®æ¨™æº–ã€‚",ru:"M4A1 Ğ·Ğ°Ğ¼ĞµĞ½ÑĞµÑ‚ Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ Ğ½Ğ° Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚. Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚ Ğ´Ğ»Ñ ÑĞ¿ĞµÑ†Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹.",de:"M4A1 ersetzt FeuerstoÃŸ durch Vollautomatik. Standard fÃ¼r Spezialoperationen."} },
    "M17/M18 (SIG P320)":  { type:"Modular Handgun", caliber:"9Ã—19mm Parabellum", manufacturer:"SIG Sauer Inc.", service_years:"2017-Present", weight:"0.83 kg", length:"203 mm", history:{en:"Won the Army Modular Handgun System competition in 2017, replacing the M9 Beretta. M17 is full-size; M18 is compact.",id:"Memenangkan kompetisi MHS 2017, menggantikan M9 Beretta. M17 ukuran penuh; M18 kompak.",zh:"2017å¹´èµ¢å¾—MHSç«äº‰ï¼Œæ›¿æ¢M9ã€‚M17å…¨å°ºå¯¸ï¼›M18ç´§å‡‘å‹ã€‚",ja:"2017å¹´MHSç«¶äº‰ã«å‹åˆ©ã—M9ã‚’ç½®æ›ã€‚M17ãƒ•ãƒ«ã‚µã‚¤ã‚ºï¼›M18ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã€‚",ru:"ĞŸĞ¾Ğ±ĞµĞ´Ğ¸Ğ» Ğ² ĞºĞ¾Ğ½ĞºÑƒÑ€ÑĞµ MHS 2017, Ğ·Ğ°Ğ¼ĞµĞ½Ğ¸Ğ² M9. M17 Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ³Ğ¾ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ°, M18 ĞºĞ¾Ğ¼Ğ¿Ğ°ĞºÑ‚Ğ½Ñ‹Ğ¹.",de:"Gewann den MHS-Wettbewerb 2017 und ersetzte die M9. M17 in voller GrÃ¶ÃŸe; M18 kompakt."} },
    "M249 SAW":            { type:"Light Machine Gun", caliber:"5.56Ã—45mm NATO", manufacturer:"FN Herstal (FN Minimi)", service_years:"1984-Present", weight:"7.1 kg", length:"1,040 mm", history:{en:"Squad Automatic Weapon provides sustained fire support at squad level. Can feed from belts or STANAG magazines.",id:"Senjata Otomatis Regu memberikan dukungan tembakan berkelanjutan di tingkat regu.",zh:"ç­ç”¨è‡ªåŠ¨æ­¦å™¨ï¼Œæä¾›ç­çº§æŒç»­ç«åŠ›æ”¯æ´ã€‚",ja:"åˆ†éšŠè‡ªå‹•ç«å™¨ã¨ã—ã¦åˆ†éšŠãƒ¬ãƒ™ãƒ«ã®æŒç¶šå°„æ’ƒæ”¯æ´ã‚’æä¾›ã€‚",ru:"ĞÑ€ÑƒĞ¶Ğ¸Ğµ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ ÑÑ‚Ñ€ĞµĞ»ÑŒĞ±Ñ‹ Ğ¾Ñ‚Ñ€ÑĞ´Ğ°. ĞĞ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ½ĞµĞ¿Ñ€ĞµÑ€Ñ‹Ğ²Ğ½Ñ‹Ğ¹ Ğ¾Ğ³Ğ¾Ğ½ÑŒ.",de:"Gruppenautomatikwaffe bietet anhaltende FeuerunterstÃ¼tzung auf Gruppenebene."} },
    "M240B":               { type:"General Purpose Machine Gun", caliber:"7.62Ã—51mm NATO", manufacturer:"FN Herstal (FN MAG)", service_years:"1977-Present", weight:"12.5 kg", length:"1,263 mm", history:{en:"Replaced the M60 GPMG. The M240B is the standard medium machine gun of the U.S. military, known for extreme reliability.",id:"Menggantikan M60 GPMG. M240B adalah senapan mesin menengah standar militer AS.",zh:"å–ä»£M60 GPMGã€‚M240Bæ˜¯ç¾å†›æ ‡å‡†ä¸­å‹æœºæªï¼Œä»¥æé«˜å¯é æ€§è‘—ç§°ã€‚",ja:"M60 GPMGã‚’ç½®æ›ã€‚M240Bã¯ç±³è»ã®æ¨™æº–ä¸­å‹æ©Ÿé–¢éŠƒã§ä¿¡é ¼æ€§ãŒé«˜ã„ã€‚",ru:"Ğ—Ğ°Ğ¼ĞµĞ½Ğ¸Ğ» M60. M240B - ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğ¹ ĞµĞ´Ğ¸Ğ½Ñ‹Ğ¹ Ğ¿ÑƒĞ»ĞµĞ¼Ñ‘Ñ‚ Ğ°Ñ€Ğ¼Ğ¸Ğ¸ Ğ¡Ğ¨Ğ.",de:"Ersetzte das M60 GPMG. M240B ist das Standard-Maschinengewehr des US-MilitÃ¤rs."} },
    "M2HB":                { type:"Heavy Machine Gun", caliber:".50 BMG (12.7Ã—99mm)", manufacturer:"General Dynamics / U.S. Ordnance", service_years:"1933-Present", weight:"38 kg", length:"1,654 mm", history:{en:"The legendary 'Ma Deuce' has been in continuous service since 1933. Used on vehicles, aircraft, ships, and fixed positions worldwide.",id:"'Ma Deuce' legendaris telah bertugas sejak 1933. Digunakan di kendaraan, pesawat, kapal, dan posisi tetap.",zh:"ä¼ å¥‡çš„'Ma Deuce'è‡ª1933å¹´èµ·æŒç»­æœå½¹ï¼Œç”¨äºè½¦è¾†ã€é£æœºã€èˆ¹åªå’Œå›ºå®šé˜µåœ°ã€‚",ja:"ä¼èª¬ã®'Ma Deuce'ã¯1933å¹´ä»¥æ¥ç¶™ç¶šä½¿ç”¨ã€‚è»Šä¸¡ãƒ»èˆªç©ºæ©Ÿãƒ»è‰¦è‰‡ãƒ»å›ºå®šé™£åœ°ã§ä½¿ç”¨ã€‚",ru:"Ğ›ĞµĞ³ĞµĞ½Ğ´Ğ°Ñ€Ğ½Ğ°Ñ 'ĞœĞ° Ğ”ÑŒÑÑ' Ğ½ĞµĞ¿Ñ€ĞµÑ€Ñ‹Ğ²Ğ½Ğ¾ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ñ 1933 Ğ³Ğ¾Ğ´Ğ°.",de:"Die legendÃ¤re 'Ma Deuce' ist seit 1933 im Einsatz. Auf Fahrzeugen, Flugzeugen und Schiffen."} },
    "HK416":               { type:"Assault Rifle (Gas Piston)", caliber:"5.56Ã—45mm NATO", manufacturer:"Heckler & Koch", service_years:"2005-Present", weight:"3.6 kg", length:"880 mm", history:{en:"Short-stroke gas piston design offers superior reliability over the M4 in adverse conditions. Used by Delta Force, DEVGRU, and MARSOC.",id:"Desain gas piston menawarkan keandalan superior dibanding M4. Digunakan oleh Delta Force, DEVGRU, dan MARSOC.",zh:"çŸ­è¡Œç¨‹å¯¼æ°”æ´»å¡è®¾è®¡åœ¨æ¶åŠ£æ¡ä»¶ä¸‹å¯é æ€§ä¼˜äºM4ã€‚è¢«ä¸‰è§’æ´²ã€DEVGRUå’ŒMARSOCä½¿ç”¨ã€‚",ja:"çŸ­è¡Œç¨‹ã‚¬ã‚¹ãƒ”ã‚¹ãƒˆãƒ³è¨­è¨ˆã«ã‚ˆã‚ŠM4ã‚ˆã‚Šå„ªã‚ŒãŸä¿¡é ¼æ€§ã‚’ç™ºæ®ã€‚ãƒ‡ãƒ«ã‚¿ã€DEVGRUã§ä½¿ç”¨ã€‚",ru:"ĞšĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¾Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğ¹ Ğ³Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿Ğ¾Ñ€ÑˆĞµĞ½ÑŒ Ğ¾Ğ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ½Ğ°Ğ´Ñ‘Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğ²Ñ‹ÑˆĞµ M4. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ”ĞµĞ»ÑŒÑ‚Ğ¾Ğ¹ Ğ¸ DEVGRU.",de:"Kurzhubbetrieb Ã¼bertrifft M4 in ZuverlÃ¤ssigkeit. Verwendet von Delta Force, DEVGRU und MARSOC."} },
    "Mk 17 SCAR-H":        { type:"Battle Rifle", caliber:"7.62Ã—51mm NATO", manufacturer:"FN Herstal", service_years:"2009-Present", weight:"3.5 kg", length:"876 mm", history:{en:"SCAR Heavy is the 7.62mm variant of the SCAR family used by SOCOM. Greater range and stopping power vs 5.56mm platforms.",id:"SCAR Heavy adalah varian 7.62mm dari keluarga SCAR yang digunakan oleh SOCOM.",zh:"SCARé‡å‹æ˜¯SOCOMä½¿ç”¨çš„SCARç³»åˆ—7.62mmå˜å‹ï¼Œå°„ç¨‹å’Œåˆ¶æ­¢åŠ›ä¼˜äº5.56mmå¹³å°ã€‚",ja:"SCAR Heavyã¯SOCOMãŒä½¿ç”¨ã™ã‚‹SCARãƒ•ã‚¡ãƒŸãƒªãƒ¼ã®7.62mmç‰ˆã€‚",ru:"SCAR Heavy - Ğ²ĞµÑ€ÑĞ¸Ñ SCAR ĞºĞ°Ğ»Ğ¸Ğ±Ñ€Ğ° 7.62Ğ¼Ğ¼ Ğ´Ğ»Ñ SOCOM.",de:"SCAR Heavy ist die 7,62-mm-Variante der SCAR-Familie fÃ¼r SOCOM."} },
    "Mk 25 (SIG P226)":    { type:"Semi-Automatic Pistol", caliber:"9Ã—19mm Parabellum", manufacturer:"SIG Sauer", service_years:"1989-Present", weight:"0.96 kg", length:"196 mm", history:{en:"Selected by Navy SEALs for reliability in maritime environments. Withstands saltwater corrosion and extreme conditions better than the M9.",id:"Dipilih oleh Navy SEALs untuk keandalan di lingkungan maritim.",zh:"è¢«æµ·è±¹çªå‡»é˜Ÿé€‰ä¸­ï¼Œå› å…¶åœ¨æµ·æ´‹ç¯å¢ƒä¸­çš„å¯é æ€§ã€‚èƒ½æ‰¿å—ç›æ°´è…èš€ã€‚",ja:"æµ·æ´‹ç’°å¢ƒã§ã®ä¿¡é ¼æ€§ã‹ã‚‰ãƒã‚¤ãƒ“ãƒ¼ã‚·ãƒ¼ãƒ«ã‚ºã«é¸ã°ã‚ŒãŸã€‚",ru:"Ğ’Ñ‹Ğ±Ñ€Ğ°Ğ½ Ğ¼Ğ¾Ñ€ÑĞºĞ¸Ğ¼Ğ¸ ĞºĞ¾Ñ‚Ğ¸ĞºĞ°Ğ¼Ğ¸ Ğ·Ğ° Ğ½Ğ°Ğ´Ñ‘Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğ² Ğ¼Ğ¾Ñ€ÑĞºĞ¸Ñ… ÑƒÑĞ»Ğ¾Ğ²Ğ¸ÑÑ….",de:"Von den Navy SEALs fÃ¼r maritime Umgebungen ausgewÃ¤hlt."} },
    "FGM-148 Javelin":     { type:"Man-Portable Anti-Tank Missile", caliber:"127mm (warhead)", manufacturer:"Raytheon / Lockheed Martin", service_years:"1996-Present", weight:"22.3 kg (with CLU)", length:"1,200 mm", history:{en:"Fire-and-forget missile with dual-mode seeker locks on before launch. Tandem shaped-charge warhead defeats ERA-equipped tanks. Used globally.",id:"Rudal fire-and-forget dengan pemandu ganda. Hulu ledak tandem mengalahkan tank berAPE.",zh:"'å‘å°„åä¸ç®¡'å¯¼å¼¹ï¼ŒåŒæ¨¡åˆ¶å¯¼è£…ç½®å‘å°„å‰é”å®šç›®æ ‡ã€‚ä¸²è”ç ´ç”²å¼¹å¤´å‡»è´¥ååº”è£…ç”²å¦å…‹ã€‚",ja:"'æ’ƒã¡ã£æ”¾ã—'ãƒŸã‚µã‚¤ãƒ«ã€‚ã‚¿ãƒ³ãƒ‡ãƒ æˆå½¢ç‚¸è–¬å¼¾é ­ã§åå¿œè£…ç”²ä»˜ãæˆ¦è»Šã‚’æ’ƒç ´ã€‚",ru:"Ğ Ğ°ĞºĞµÑ‚Ğ° 'Ğ²Ñ‹ÑÑ‚Ñ€ĞµĞ»Ğ¸Ğ» Ğ¸ Ğ·Ğ°Ğ±Ñ‹Ğ»'. Ğ¢Ğ°Ğ½Ğ´ĞµĞ¼Ğ½Ğ°Ñ ĞºÑƒĞ¼ÑƒĞ»ÑÑ‚Ğ¸Ğ²Ğ½Ğ°Ñ Ğ±Ğ¾ĞµĞ²Ğ°Ñ Ñ‡Ğ°ÑÑ‚ÑŒ Ğ¿Ğ¾Ñ€Ğ°Ğ¶Ğ°ĞµÑ‚ Ñ‚Ğ°Ğ½ĞºĞ¸ Ñ Ğ”Ğ—.",de:"'SchieÃŸ und vergiss'-Rakete. Tandem-Hohlladung besiegt ERA-gepanzerte Panzer."} },
    "M136 AT4":            { type:"Anti-Tank Rocket Launcher (Disposable)", caliber:"84mm", manufacturer:"Saab Bofors Dynamics", service_years:"1987-Present", weight:"6.7 kg", length:"1,020 mm", history:{en:"Replaced the M72 LAW. Single-shot disposable launcher effective against armored vehicles, bunkers, and fortifications.",id:"Menggantikan M72 LAW. Peluncur sekali pakai efektif melawan kendaraan lapis baja dan bunker.",zh:"å–ä»£M72 LAWã€‚ä¸€æ¬¡æ€§å‘å°„å™¨æœ‰æ•ˆå¯¹ä»˜è£…ç”²è½¦è¾†ã€åœ°å ¡å’Œå·¥äº‹ã€‚",ja:"M72 LAWã‚’ç½®æ›ã€‚è£…ç”²è»Šä¸¡ãƒ»ãƒãƒ³ã‚«ãƒ¼ãƒ»è¦å¡ã«æœ‰åŠ¹ãªä½¿ã„æ¨ã¦ç™ºå°„å™¨ã€‚",ru:"Ğ—Ğ°Ğ¼ĞµĞ½Ğ¸Ğ» M72 LAW. ĞĞ´Ğ½Ğ¾Ñ€Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿ÑƒÑĞºĞ¾Ğ²Ğ¾Ğ¹ Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼ Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ² Ğ‘Ğ¢Ğ¢, Ğ±ÑƒĞ½ĞºĞµÑ€Ğ¾Ğ² Ğ¸ ÑƒĞºÑ€ĞµĞ¿Ğ»ĞµĞ½Ğ¸Ğ¹.",de:"Ersetzte die M72 LAW. Einwegwerfer gegen gepanzerte Fahrzeuge und Bunker."} },
    "M109A7 Paladin":      { type:"Self-Propelled Howitzer", caliber:"155mm", manufacturer:"BAE Systems", service_years:"2015-Present", weight:"38,000 kg", length:"9,100 mm", history:{en:"Latest Paladin variant with digital fire control, improved power train, and ability to fire Excalibur guided rounds.",id:"Varian Paladin terbaru dengan kendali tembakan digital dan kemampuan menembak peluru berpandu Excalibur.",zh:"æœ€æ–°å¸•æ‹‰ä¸å˜å‹ï¼Œé…å¤‡æ•°å­—ç«æ§ï¼Œèƒ½å‘å°„ç¥å‰‘åˆ¶å¯¼ç‚®å¼¹ã€‚",ja:"æœ€æ–°ãƒ‘ãƒ©ãƒ‡ã‚£ãƒ³ç‰ˆã€‚ãƒ‡ã‚¸ã‚¿ãƒ«å°„æ’ƒç®¡åˆ¶ã¨ã‚¨ã‚¯ã‚¹ã‚«ãƒªãƒãƒ¼èª˜å°å¼¾ã‚’ç™ºå°„å¯èƒ½ã€‚",ru:"ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½ÑÑ Ğ²ĞµÑ€ÑĞ¸Ñ Paladin Ñ Ñ†Ğ¸Ñ„Ñ€Ğ¾Ğ²Ñ‹Ğ¼ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸ĞµĞ¼ Ğ¾Ğ³Ğ½Ñ‘Ğ¼ Ğ¸ Excalibur.",de:"Neueste Paladin-Variante mit digitalem Feuerleitsystem und Excalibur-Munition."} },
    "M142 HIMARS":         { type:"Multiple Rocket Launch System (Wheeled)", caliber:"227mm / MGM-140 ATACMS", manufacturer:"Lockheed Martin", service_years:"2005-Present", weight:"16,000 kg", length:"7,000 mm", history:{en:"Single-pod wheeled MLRS. Can fire GMLRS to 70km or ATACMS to 300km. Strategically deployable by C-130.",id:"MLRS beroda satu pod. Dapat menembak GMLRS hingga 70km atau ATACMS hingga 300km.",zh:"å•è”è£…è½®å¼å¤šç®¡ç«ç®­ç‚®ã€‚å¯å‘å°„ç²¾åˆ¶å¤šç®¡ç«ç®­å¼¹è‡³70å…¬é‡Œæˆ–é™†å†›æˆ˜æœ¯å¯¼å¼¹è‡³300å…¬é‡Œã€‚",ja:"å˜é€£è£…è¼ªå¼MLRSã€‚GMLRSã§70kmã€ATACMSã§300kmã¾ã§å°„æ’ƒå¯èƒ½ã€‚",ru:"ĞšĞ¾Ğ»Ñ‘ÑĞ½Ñ‹Ğ¹ Ğ Ğ¡Ğ—Ğ Ñ Ğ¾Ğ´Ğ½Ğ¸Ğ¼ Ğ¿Ğ°ĞºĞµÑ‚Ğ¾Ğ¼. GMLRS Ğ´Ğ¾ 70ĞºĞ¼, ATACMS Ğ´Ğ¾ 300ĞºĞ¼.",de:"Einzylinder-Rad-MLRS. GMLRS bis 70km, ATACMS bis 300km."} },
    "AH-64E Apache Guardian": { type:"Attack Helicopter", caliber:"30mm M230 Chain Gun + Hellfire + Hydra 70", manufacturer:"Boeing", service_years:"2013-Present", weight:"8,006 kg", length:"17,730 mm", history:{en:"Definitive Apache variant with enhanced networking, manned-unmanned teaming capability, and upgraded T700-GE-701D engines.",id:"Varian Apache definitif dengan kemampuan jaringan yang ditingkatkan dan tim berawak-tak berawak.",zh:"æœ€ç»ˆå‹é˜¿å¸•å¥‡ï¼Œå¢å¼ºäº†ç½‘ç»œèƒ½åŠ›å’Œæœ‰äºº-æ— äººååŒä½œæˆ˜èƒ½åŠ›ã€‚",ja:"æœ€çµ‚å‹ã‚¢ãƒ‘ãƒƒãƒã€‚æœ‰äººãƒ»ç„¡äººãƒãƒ¼ãƒŸãƒ³ã‚°èƒ½åŠ›ã¨å¼·åŒ–ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ©Ÿèƒ½ã€‚",ru:"ĞĞºĞ¾Ğ½Ñ‡Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ Apache Ñ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑĞ¼Ğ¸ ÑĞµÑ‚ĞµÑ†ĞµĞ½Ñ‚Ñ€Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ Ğ²Ğ¾Ğ¹Ğ½Ñ‹.",de:"EndgÃ¼ltige Apache-Variante mit verbesserter Vernetzung und Manned-Unmanned Teaming."} },
    "Tomahawk Cruise Missile": { type:"Long-Range Cruise Missile", caliber:"450 kg warhead / nuclear option", manufacturer:"Raytheon", service_years:"1983-Present", weight:"1,315 kg", length:"5,560 mm", history:{en:"All-weather subsonic land-attack missile. Launched from submarines and surface ships. Range 2,500km. Used in every major conflict since Desert Storm.",id:"Rudal serangan darat subsonik segala cuaca. Jangkauan 2.500km.",zh:"å…¨å¤©å€™äºšéŸ³é€Ÿå¯¹é™†æ”»å‡»å¯¼å¼¹ã€‚å°„ç¨‹2500å…¬é‡Œï¼Œæ²™æ¼ é£æš´ä»¥æ¥æ¯æ¬¡é‡å¤§å†²çªä¸­éƒ½æœ‰ä½¿ç”¨ã€‚",ja:"å…¨å¤©å€™äºœéŸ³é€Ÿå¯¾åœ°æ”»æ’ƒãƒŸã‚µã‚¤ãƒ«ã€‚å°„ç¨‹2,500kmã€‚ç ‚æ¼ ã®åµä»¥æ¥ã™ã¹ã¦ã®ä¸»è¦ç´›äº‰ã§ä½¿ç”¨ã€‚",ru:"Ğ’ÑĞµĞ¿Ğ¾Ğ³Ğ¾Ğ´Ğ½Ğ°Ñ Ğ´Ğ¾Ğ·Ğ²ÑƒĞºĞ¾Ğ²Ğ°Ñ ĞºÑ€Ñ‹Ğ»Ğ°Ñ‚Ğ°Ñ Ñ€Ğ°ĞºĞµÑ‚Ğ°. Ğ”Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ 2500ĞºĞ¼. ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ÑĞ»Ğ°ÑÑŒ Ğ² ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ ĞºĞ¾Ğ½Ñ„Ğ»Ğ¸ĞºÑ‚Ğµ.",de:"Allwetter-Unterschall-Landangriff. Reichweite 2.500km. Seit WÃ¼stensturm in jedem Konflikt."} },
    "Mk 48 ADCAP Torpedo":  { type:"Heavy Torpedo", caliber:"533mm", manufacturer:"Raytheon", service_years:"1972-Present", weight:"1,676 kg", length:"5,842 mm", history:{en:"ADCAP (Advanced Capability) version can engage deep-diving submarines and surface ships. Wire-guided with active/passive acoustic homing.",id:"Versi ADCAP dapat melibatkan kapal selam menyelam dalam dan kapal permukaan.",zh:"ADCAPç‰ˆæœ¬å¯æ”»å‡»æ·±æ½œæ½œè‰‡å’Œæ°´é¢èˆ°è‰‡ï¼Œé‡‡ç”¨çº¿å¯¼åŠ ä¸»/è¢«åŠ¨å£°å­¦åˆ¶å¯¼ã€‚",ja:"ADCAPç‰ˆã¯æ·±æ½œæ°´æ½œæ°´è‰¦ã¨æ°´ä¸Šè‰¦è‰‡ã‚’æ”»æ’ƒå¯èƒ½ã€‚æœ‰ç·šèª˜å°ã¨èƒ½å‹•/å—å‹•éŸ³éŸ¿ãƒ›ãƒ¼ãƒŸãƒ³ã‚°ã€‚",ru:"Ğ’ĞµÑ€ÑĞ¸Ñ ADCAP Ğ¿Ğ¾Ñ€Ğ°Ğ¶Ğ°ĞµÑ‚ Ğ³Ğ»ÑƒĞ±Ğ¾ĞºĞ¾Ğ²Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ´Ğ»Ğ¾Ğ´ĞºĞ¸ Ğ¸ Ğ½Ğ°Ğ´Ğ²Ğ¾Ğ´Ğ½Ñ‹Ğµ ĞºĞ¾Ñ€Ğ°Ğ±Ğ»Ğ¸.",de:"ADCAP-Version bekÃ¤mpft tieftauchende U-Boote und Ãœberwasserschiffe."} },
    "F/A-18E/F Super Hornet": { type:"Carrier-Based Multirole Fighter", caliber:"M61A2 20mm + weapons payload", manufacturer:"Boeing", service_years:"1999-Present", weight:"21,320 kg (MTOW)", length:"18,310 mm", history:{en:"20% larger than Hornet. Extended range, larger payload, and advanced avionics. Backbone of carrier air wings until F-35C transition.",id:"20% lebih besar dari Hornet. Jangkauan diperpanjang dan muatan lebih besar.",zh:"æ¯”å¤§é»„èœ‚å¤§20%ã€‚èˆªç¨‹æ›´è¿œã€è½½è·æ›´å¤§ã€èˆªç”µæ›´å…ˆè¿›ï¼Œæ˜¯F-35Cè¿‡æ¸¡å‰èˆ°è½½èˆªç©ºå›¢çš„éª¨å¹²ã€‚",ja:"ãƒ›ãƒ¼ãƒãƒƒãƒˆã‚ˆã‚Š20%å¤§å‹ã€‚èˆªç¶šè·é›¢å»¶é•·ã€æ­è¼‰é‡å¢—åŠ ã€‚F-35Cç§»è¡Œã¾ã§è‰¦è¼‰èˆªç©ºå›£ã®ä¸»åŠ›ã€‚",ru:"ĞĞ° 20% ĞºÑ€ÑƒĞ¿Ğ½ĞµĞµ Hornet. Ğ£Ğ²ĞµĞ»Ğ¸Ñ‡ĞµĞ½Ğ½Ğ°Ñ Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¸ Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°.",de:"20% grÃ¶ÃŸer als der Hornet. Erweiterte Reichweite und grÃ¶ÃŸere Nutzlast."} },
    "M27 IAR":             { type:"Infantry Automatic Rifle", caliber:"5.56Ã—45mm NATO", manufacturer:"Heckler & Koch (HK416 based)", service_years:"2011-Present", weight:"3.6 kg", length:"881 mm", history:{en:"Selected by USMC to replace the M249 SAW at squad level. Based on HK416, with improved accuracy and reliability for light infantry.",id:"Dipilih oleh USMC untuk menggantikan M249 SAW di tingkat regu.",zh:"ç”±ç¾å›½æµ·å†›é™†æˆ˜é˜Ÿé€‰ç”¨å–ä»£ç­çº§M249 SAWï¼ŒåŸºäºHK416ï¼Œç²¾åº¦å’Œå¯é æ€§æ›´é«˜ã€‚",ja:"USMCãŒM249 SAWã®ä»£æ›¿ã¨ã—ã¦æ¡ç”¨ã€‚HK416ãƒ™ãƒ¼ã‚¹ã§ç²¾åº¦ã¨ä¿¡é ¼æ€§ãŒå‘ä¸Šã€‚",ru:"Ğ’Ñ‹Ğ±Ñ€Ğ°Ğ½ ĞšĞœĞŸ Ğ´Ğ»Ñ Ğ·Ğ°Ğ¼ĞµĞ½Ñ‹ M249 SAW Ğ½Ğ° ÑƒÑ€Ğ¾Ğ²Ğ½Ğµ Ğ¾Ñ‚Ñ€ÑĞ´Ğ°. ĞĞ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ HK416.",de:"Vom USMC als Ersatz fÃ¼r die M249 SAW auf Gruppenebene ausgewÃ¤hlt."} },
    "AIM-9X Sidewinder":   { type:"Short-Range Air-to-Air Missile", caliber:"9 kg warhead", manufacturer:"Raytheon", service_years:"2003-Present", weight:"85.3 kg", length:"3,050 mm", history:{en:"Latest Sidewinder block with high off-boresight capability and lock-on after launch. Used by all U.S. fighter aircraft.",id:"Sidewinder terbaru dengan kemampuan off-boresight tinggi dan kunci setelah peluncuran.",zh:"æœ€æ–°å“å°¾è›‡å‹å·ï¼Œå…·æœ‰é«˜ç¦»è½´èƒ½åŠ›å’Œå‘å°„åé”å®šåŠŸèƒ½ï¼Œè¢«æ‰€æœ‰ç¾å›½æˆ˜æ–—æœºä½¿ç”¨ã€‚",ja:"æœ€æ–°ã‚µã‚¤ãƒ‰ãƒ¯ã‚¤ãƒ³ãƒ€ãƒ¼ã€‚é«˜ã‚ªãƒ•ãƒœã‚¢ã‚µã‚¤ãƒˆèƒ½åŠ›ã¨ç™ºå°„å¾Œãƒ­ãƒƒã‚¯ã‚ªãƒ³ã€‚å…¨ç±³ç©ºè»æˆ¦é—˜æ©Ÿã§ä½¿ç”¨ã€‚",ru:"ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ Sidewinder Ñ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğ¼ ÑƒĞ³Ğ»Ğ¾Ğ¼ Ğ·Ğ°Ñ…Ğ²Ğ°Ñ‚Ğ° Ğ¸ Ğ·Ğ°Ñ…Ğ²Ğ°Ñ‚Ğ¾Ğ¼ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿ÑƒÑĞºĞ°.",de:"Neuester Sidewinder mit hoher Off-Boresight-FÃ¤higkeit und Lock-on-After-Launch."} },
    "M110 SASS":           { type:"Semi-Automatic Sniper System", caliber:"7.62Ã—51mm NATO", manufacturer:"Knight's Armament Company", service_years:"2008-Present", weight:"6.94 kg", length:"1,029 mm", history:{en:"Provides designated marksmen organic semi-automatic precision fire. Can be fitted with suppressor for covert operations.",id:"Memberikan tembakan presisi semi-otomatis bagi penembak jitu yang ditunjuk.",zh:"ä¸ºæŒ‡å®šç¥æªæ‰‹æä¾›æœ‰æœºåŠè‡ªåŠ¨ç²¾ç¡®ç«åŠ›ï¼Œå¯é…æ¶ˆéŸ³å™¨è¿›è¡Œéšè”½ä½œæˆ˜ã€‚",ja:"æŒ‡å®šå°„æ‰‹ã«åŠè‡ªå‹•ç²¾å¯†å°„æ’ƒã‚’æä¾›ã€‚ã‚µãƒ—ãƒ¬ãƒƒã‚µãƒ¼è£…ç€ã§éš å¯†ä½œæˆ¦ã«å¯¾å¿œã€‚",ru:"ĞĞ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ‹Ğ¼ ÑĞ½Ğ°Ğ¹Ğ¿ĞµÑ€Ğ°Ğ¼ Ğ¿Ğ¾Ğ»ÑƒĞ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¿Ñ€Ğ¸Ñ†ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ğ³Ğ¾Ğ½ÑŒ.",de:"Bietet ScharfschÃ¼tzen halbautomatisches PrÃ¤zisionsfeuer."} },
    "Mk 13 Sniper Rifle":  { type:"Bolt-Action Sniper Rifle", caliber:".300 Winchester Magnum", manufacturer:"Accuracy International (AI AWSM)", service_years:"2002-Present", weight:"6.8 kg", length:"1,220 mm", history:{en:"Used by Navy SEALs, Marine Raiders, and Army SOCOM snipers. Exceptional accuracy at 1,000+ meter engagements.",id:"Digunakan oleh Navy SEALs, Marine Raiders, dan sniper SOCOM Angkatan Darat.",zh:"è¢«æµ·è±¹çªå‡»é˜Ÿã€æµ·å†›é™†æˆ˜é˜Ÿçªè¢­è€…å’Œé™†å†›ç‰¹ç§éƒ¨é˜Ÿç‹™å‡»æ‰‹ä½¿ç”¨ï¼Œ1000ç±³ä»¥ä¸Šç²¾ç¡®åº¦å‡ºè‰²ã€‚",ja:"ãƒã‚¤ãƒ“ãƒ¼ã‚·ãƒ¼ãƒ«ã‚ºã€ãƒãƒªãƒ³ãƒ¬ã‚¤ãƒ€ãƒ¼ã‚ºã€é™¸è»SOCOMã‚¹ãƒŠã‚¤ãƒ‘ãƒ¼ãŒä½¿ç”¨ã€‚1000mè¶…ã§ã®ç²¾åº¦å„ªç§€ã€‚",ru:"Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Navy SEALs, Marine Raiders Ğ¸ ÑĞ½Ğ°Ğ¹Ğ¿ĞµÑ€Ğ°Ğ¼Ğ¸ SOCOM Ğ°Ñ€Ğ¼Ğ¸Ğ¸.",de:"Verwendet von Navy SEALs, Marine Raiders und Army SOCOM-ScharfschÃ¼tzen."} },
    "Phalanx CIWS":        { type:"Close-In Weapon System", caliber:"20mm M61A1 Vulcan", manufacturer:"Raytheon", service_years:"1980-Present", weight:"5,625 kg", length:"4,700 mm", history:{en:"20mm Gatling gun system for terminal defense against anti-ship missiles, aircraft, and small boats. Fully automated with its own radar.",id:"Sistem senapan Gatling 20mm untuk pertahanan terminal melawan rudal anti-kapal.",zh:"20mmåŠ ç‰¹æ—ç‚®ç³»ç»Ÿï¼Œç”¨äºå¯¹æŠ—åèˆ°å¯¼å¼¹ã€é£æœºå’Œå°å‹èˆ¹åªçš„æœ«æ®µé˜²å¾¡ï¼Œé…å¤‡ç‹¬ç«‹é›·è¾¾ã€‚",ja:"20mmã‚¬ãƒˆãƒªãƒ³ã‚°ç ²ã€‚å¯¾è‰¦ãƒŸã‚µã‚¤ãƒ«ãƒ»èˆªç©ºæ©Ÿãƒ»å°å‹è‰‡ã¸ã®æœ«ç«¯é˜²å¾¡ã‚·ã‚¹ãƒ†ãƒ ã€‚",ru:"Ğ¨ĞµÑÑ‚Ğ¸ÑÑ‚Ğ²Ğ¾Ğ»ÑŒĞ½Ğ°Ñ 20-Ğ¼Ğ¼ Ğ¿ÑƒÑˆĞºĞ° Ğ´Ğ»Ñ Ğ±Ğ»Ğ¸Ğ¶Ğ½ĞµĞ¹ Ğ¾Ğ±Ğ¾Ñ€Ğ¾Ğ½Ñ‹ Ğ¾Ñ‚ ĞŸĞšĞ .",de:"20-mm-Gatling-GeschÃ¼tz als Nahbereichsverteidigung gegen FlugkÃ¶rper und Boote."} },
    "GAU-17/A Minigun":    { type:"7.62mm Rotary Machine Gun (Helicopter)", caliber:"7.62Ã—51mm NATO", manufacturer:"General Electric / Dillon Aero", service_years:"1971-Present", weight:"16.2 kg", length:"800 mm", history:{en:"6-barrel rotary machine gun firing up to 4,000 rounds per minute. Standard defensive weapon on MH-60 Seahawk and other naval helicopters.",id:"Senapan mesin putar 6 laras menembak hingga 4.000 peluru per menit.",zh:"6ç®¡æ—‹è½¬æœºæªï¼Œæ¯åˆ†é’Ÿå°„é€Ÿé«˜è¾¾4000å‘ï¼Œæ˜¯MH-60æµ·é¹°ç­‰æµ·å†›ç›´å‡æœºçš„æ ‡å‡†é˜²å¾¡æ­¦å™¨ã€‚",ja:"6éŠƒèº«å›è»¢æ©Ÿé–¢éŠƒã€‚æ¯åˆ†æœ€å¤§4000ç™ºã€‚MH-60ã‚·ãƒ¼ãƒ›ãƒ¼ã‚¯ç­‰ã®æ¨™æº–é˜²å¾¡å…µå™¨ã€‚",ru:"6-ÑÑ‚Ğ²Ğ¾Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ²Ñ€Ğ°Ñ‰Ğ°ÑÑ‰Ğ¸Ğ¹ÑÑ Ğ¿ÑƒĞ»ĞµĞ¼Ñ‘Ñ‚ Ğ´Ğ¾ 4000 Ğ²Ñ‹ÑÑ‚Ñ€ĞµĞ»Ğ¾Ğ²/Ğ¼Ğ¸Ğ½. ĞĞ° MH-60 Seahawk.",de:"6-Lauf-Rotationsmaschinengewehr bis 4.000 Schuss/Min. Standard-Defensivwaffe auf MH-60."} },
    "M45A1 MEUSOC Pistol": { type:".45 ACP Semi-Automatic Pistol (MARSOC)", caliber:".45 ACP", manufacturer:"Colt's Manufacturing (custom)", service_years:"1985-Present", weight:"1.1 kg", length:"216 mm", history:{en:"Custom 1911-type pistol made for Marine Expeditionary Units. Preferred by many Marines over the M9 for its stopping power.",id:"Pistol tipe 1911 kustom yang dibuat untuk Marine Expeditionary Units.",zh:"ä¸ºæµ·å†›é™†æˆ˜é˜Ÿè¿œå¾éƒ¨é˜Ÿå®šåˆ¶çš„1911å‹æ‰‹æªï¼Œå› åˆ¶æ­¢åŠ›è€Œè¢«è®¸å¤šé™†æˆ˜é˜Ÿå‘˜æ›´åçˆ±äºM9ã€‚",ja:"æµ·å…µé å¾éƒ¨éšŠå‘ã‘ã‚«ã‚¹ã‚¿ãƒ 1911å‹ãƒ”ã‚¹ãƒˆãƒ«ã€‚åˆ¶æ­¢åŠ›ã§M9ã‚ˆã‚Šå¥½ã‚€éšŠå“¡ã‚‚å¤šã„ã€‚",ru:"ĞšĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ñ‹Ğ¹ Ğ¿Ğ¸ÑÑ‚Ğ¾Ğ»ĞµÑ‚ Ñ‚Ğ¸Ğ¿Ğ° 1911 Ğ´Ğ»Ñ ĞœĞ•Ğ£. ĞœĞ½Ğ¾Ğ³Ğ¸Ğµ Ğ¼Ğ¾Ñ€Ğ¿ĞµÑ…Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ¿Ğ¾Ñ‡Ğ¸Ñ‚Ğ°ÑÑ‚ M9 Ğ·Ğ° Ğ¼Ğ¾Ñ‰ÑŒ.",de:"Benutzerdefinierte 1911-Pistole fÃ¼r Marine Expeditionary Units."} },
    "Mk 110 57mm Gun":     { type:"Naval Autocannon", caliber:"57Ã—438mmR", manufacturer:"BAE Systems (Bofors 57 Mk 3)", service_years:"2004-Present", weight:"6,000 kg", length:"4,000 mm", history:{en:"The Navy's standard medium deck gun for patrol and interdiction. Fires 220 rounds/min and is effective against surface and air targets.",id:"Senapan dek menengah standar Angkatan Laut untuk patroli dan intersepsi.",zh:"æµ·å†›æ ‡å‡†ä¸­å‹ç”²æ¿ç‚®ï¼Œæ¯åˆ†é’Ÿ220å‘ï¼Œå¯¹æ°´é¢å’Œç©ºä¸­ç›®æ ‡æœ‰æ•ˆã€‚",ja:"æµ·è»æ¨™æº–ä¸­å‹ç”²æ¿ç ²ã€‚æ¯åˆ†220ç™ºã€‚æ°´ä¸Šãƒ»ç©ºä¸­ç›®æ¨™ã«æœ‰åŠ¹ã€‚",ru:"Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ°Ñ Ğ¿Ğ°Ğ»ÑƒĞ±Ğ½Ğ°Ñ Ğ¿ÑƒÑˆĞºĞ° Ğ’ĞœĞ¡. 220 Ğ²Ñ‹ÑÑ‚Ñ€ĞµĞ»Ğ¾Ğ²/Ğ¼Ğ¸Ğ½. ĞŸÑ€Ğ¾Ñ‚Ğ¸Ğ² Ğ½Ğ°Ğ´Ğ²Ğ¾Ğ´Ğ½Ñ‹Ñ… Ğ¸ Ğ²Ğ¾Ğ·Ğ´ÑƒÑˆĞ½Ñ‹Ñ… Ñ†ĞµĞ»ĞµĞ¹.",de:"StandardmÃ¤ÃŸige mittlere Schiffskanone der Marine. 220 Schuss/Min."} }
};

// ==================== HASH FUNCTION (IMPROVED) ====================
function stringToHash(str) {
    // Better hash function with more distribution
    let h1 = 0xdeadbeef, h2 = 0x41c6ce57;
    for (let i = 0; i < str.length; i++) {
        const ch = str.charCodeAt(i);
        h1 = Math.imul(h1 ^ ch, 2654435761);
        h2 = Math.imul(h2 ^ ch, 1597334677);
    }
    h1 = Math.imul(h1 ^ (h1 >>> 16), 2246822507) ^ Math.imul(h2 ^ (h2 >>> 13), 3266489909);
    h2 = Math.imul(h2 ^ (h2 >>> 16), 2246822507) ^ Math.imul(h1 ^ (h1 >>> 13), 3266489909);
    return (4294967296 * (2097151 & h2) + (h1 >>> 0));
}

function seededRandom(seed) {
    // LCG random - returns float 0..1
    let s = seed;
    return function() {
        s = (s * 1664525 + 1013904223) & 0xFFFFFFFF;
        return (s >>> 0) / 0x100000000;
    };
}

function pickRandom(arr, rng) {
    return arr[Math.floor(rng() * arr.length)];
}

// ==================== GENERATION CORE ====================
function generateMilitaryRank() {
    const nameInput = document.getElementById('soldierName').value.trim();
    if (!nameInput) {
        document.getElementById('rankResult').textContent = translations[currentLanguage].noNameError;
        ['unitResult','assignmentResult','equipmentResult','weaponResult'].forEach(id => document.getElementById(id).textContent = '');
        document.getElementById('weaponDetailsResult').innerHTML = '';
        document.getElementById('descriptionResult').textContent = '';
        return;
    }

    const branchData = militaryData[selectedBranch];
    if (!branchData) return;

    // FIX: Use name+branch as unique seed - same name in different branch = different result
    const seed = stringToHash(nameInput.toLowerCase() + '|' + selectedBranch + '|v2');
    const rng = seededRandom(seed);

    // Pick unit type
    const unitTypeObj = pickRandom(branchData.unitTypes, rng);
    const unitTypeName = unitTypeObj.name;

    // Pick specific unit
    const selectedUnit = pickRandom(unitTypeObj.units, rng);

    // Pick rank
    const selectedRank = pickRandom(branchData.ranks, rng);

    // Pick assignment
    const assignments = branchData.assignments[unitTypeName] || branchData.assignments[Object.keys(branchData.assignments)[0]];
    const selectedAssignment = pickRandom(assignments, rng);

    // Pick equipment
    const equipmentList = branchData.equipment[unitTypeName] || branchData.equipment[Object.keys(branchData.equipment)[0]];
    const selectedEquipment = pickRandom(equipmentList, rng);

    // Pick weapon
    const weaponList = branchData.weapons[unitTypeName] || branchData.weapons[Object.keys(branchData.weapons)[0]];
    const selectedWeaponName = pickRandom(weaponList, rng);
    const weaponData = weaponsDB[selectedWeaponName];

    // Update DOM
    document.getElementById('rankResult').textContent = `${nameInput} ${selectedRank}`;
    document.getElementById('unitResult').textContent = selectedUnit;
    document.getElementById('assignmentResult').textContent = `${translations[currentLanguage].assignment}: ${selectedAssignment}`;
    document.getElementById('equipmentResult').textContent = `${translations[currentLanguage].equipment}: ${selectedEquipment}`;
    document.getElementById('weaponResult').textContent = `${translations[currentLanguage].weapon}: ${selectedWeaponName}`;

    if (weaponData) {
        document.getElementById('weaponDetailsResult').innerHTML = generateWeaponDetails(weaponData, currentLanguage);
    } else {
        document.getElementById('weaponDetailsResult').innerHTML = '';
    }

    document.getElementById('descriptionResult').innerHTML = generateUnitDescription(selectedUnit, selectedAssignment, selectedEquipment, currentLanguage);

    // Save to Firebase
    addToScoreboard({ name: nameInput, rank: selectedRank, unit: selectedUnit, branch: selectedBranch, weapon: selectedWeaponName, assignment: selectedAssignment, equipment: selectedEquipment });

    // Local history
    generatedHistory.unshift({ name: nameInput, rank: selectedRank, unit: selectedUnit });
    if (generatedHistory.length > 3) generatedHistory = generatedHistory.slice(0, 3);
    updateHistoryDisplay();
}

function generateWeaponDetails(weapon, language) {
    const hist = weapon.history[language] || weapon.history['en'];
    const labels = {
        en: {type:'Type', caliber:'Caliber', mfg:'Manufacturer', svc:'Service Years', weight:'Weight', length:'Length'},
        id: {type:'Tipe', caliber:'Kaliber', mfg:'Pabrikan', svc:'Tahun Penggunaan', weight:'Berat', length:'Panjang'},
        zh: {type:'ç±»å‹', caliber:'å£å¾„', mfg:'åˆ¶é€ å•†', svc:'æœå½¹å¹´é™', weight:'é‡é‡', length:'é•¿åº¦'},
        ja: {type:'ç¨®é¡', caliber:'å£å¾„', mfg:'è£½é€ å…ƒ', svc:'å°±å½¹æœŸé–“', weight:'é‡é‡', length:'å…¨é•·'},
        ru: {type:'Ğ¢Ğ¸Ğ¿', caliber:'ĞšĞ°Ğ»Ğ¸Ğ±Ñ€', mfg:'ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒ', svc:'Ğ“Ğ¾Ğ´Ñ‹ ÑĞ»ÑƒĞ¶Ğ±Ñ‹', weight:'Ğ’ĞµÑ', length:'Ğ”Ğ»Ğ¸Ğ½Ğ°'},
        de: {type:'Typ', caliber:'Kaliber', mfg:'Hersteller', svc:'Dienstjahre', weight:'Gewicht', length:'LÃ¤nge'}
    };
    const l = labels[language] || labels.en;
    return `
        <h4>${translations[language].weaponSpecs}</h4>
        <div class="weapon-specs">
            <div class="spec-item"><div class="spec-label">${l.type}</div><div class="spec-value">${weapon.type}</div></div>
            <div class="spec-item"><div class="spec-label">${l.caliber}</div><div class="spec-value">${weapon.caliber}</div></div>
            <div class="spec-item"><div class="spec-label">${l.mfg}</div><div class="spec-value">${weapon.manufacturer}</div></div>
            <div class="spec-item"><div class="spec-label">${l.svc}</div><div class="spec-value">${weapon.service_years}</div></div>
            <div class="spec-item"><div class="spec-label">${l.weight}</div><div class="spec-value">${weapon.weight}</div></div>
            <div class="spec-item"><div class="spec-label">${l.length}</div><div class="spec-value">${weapon.length}</div></div>
        </div>
        <div class="weapon-history"><h5>${translations[language].historicalBackground}</h5><p>${hist}</p></div>`;
}

function generateUnitDescription(unit, assignment, equipment, language) {
    const unitDesc = unitDescriptions[unit] || {
        en:{profile:`As part of ${unit}, you serve in one of the most capable military organizations in the world.`,history:`${unit} has a proud tradition of excellence and service.`},
        id:{profile:`Sebagai bagian dari ${unit}, Anda bertugas di organisasi militer yang sangat mampu.`,history:`${unit} memiliki tradisi keunggulan dan pelayanan yang membanggakan.`},
        zh:{profile:`ä½œä¸º${unit}çš„ä¸€å‘˜ï¼Œæ‚¨åœ¨ä¸–ç•Œé¡¶çº§å†›äº‹ç»„ç»‡ä¹‹ä¸€æœå½¹ã€‚`,history:`${unit}æœ‰ç€å“è¶Šçš„æœåŠ¡ä¼ ç»Ÿã€‚`},
        ja:{profile:`${unit}ã®ä¸€å“¡ã¨ã—ã¦ã€ä¸–ç•Œæœ€é«˜æ°´æº–ã®è»äº‹çµ„ç¹”ã§å‹¤å‹™ã—ã¦ã„ã¾ã™ã€‚`,history:`${unit}ã«ã¯å„ªã‚ŒãŸä¼çµ±ãŒã‚ã‚Šã¾ã™ã€‚`},
        ru:{profile:`ĞšĞ°Ğº Ñ‡Ğ°ÑÑ‚ÑŒ ${unit}, Ğ²Ñ‹ ÑĞ»ÑƒĞ¶Ğ¸Ñ‚Ğµ Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ğ¸Ğ· Ğ»ÑƒÑ‡ÑˆĞ¸Ñ… Ğ²Ğ¾ĞµĞ½Ğ½Ñ‹Ñ… Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¹ Ğ¼Ğ¸Ñ€Ğ°.`,history:`${unit} Ğ¸Ğ¼ĞµĞµÑ‚ Ğ³Ğ¾Ñ€Ğ´ÑƒÑ Ñ‚Ñ€Ğ°Ğ´Ğ¸Ñ†Ğ¸Ñ Ğ¿Ñ€ĞµĞ²Ğ¾ÑÑ…Ğ¾Ğ´ÑÑ‚Ğ²Ğ°.`},
        de:{profile:`Als Teil von ${unit} dienen Sie in einer der leistungsfÃ¤higsten MilitÃ¤rorganisationen.`,history:`${unit} hat eine stolze Tradition der Exzellenz.`}
    };
    const d = unitDesc[language] || unitDesc['en'];
    const t = translations[language];
    return `
        <div class="description-section"><h4>${t.unitProfile}</h4><p><strong>${unit}</strong> â€” ${d.profile}</p></div>
        <div class="description-section"><h4>${t.equipmentDetails}</h4><p><strong>${equipment}</strong> â€” ${t.role}: ${assignment}. ${t.features}: Advanced military-grade systems optimized for the operational environment.</p></div>
        <div class="description-section"><h4>${t.historicalContext}</h4><p>${d.history}</p></div>`;
}

// ==================== FIREBASE ====================
function loadScoreboardFromFirebase() {
    db.collection("scoreboard").orderBy("timestamp","desc").onSnapshot((snapshot) => {
        scoreboard = [];
        snapshot.forEach(doc => scoreboard.push({ id: doc.id, ...doc.data() }));
        updateScoreboard();
    }, err => console.error("Firebase error:", err));
}

function addToScoreboard(player) {
    db.collection("scoreboard")
        .where("name","==",player.name).where("branch","==",player.branch)
        .get().then(qs => {
            const batch = db.batch();
            qs.forEach(doc => batch.delete(doc.ref));
            const ref = db.collection("scoreboard").doc();
            batch.set(ref, { ...player, timestamp: firebase.firestore.FieldValue.serverTimestamp() });
            return batch.commit();
        }).catch(err => console.error("Error:", err));
}



// ==================== UI UPDATES ====================
function updateScoreboard() {
    const totalEl = document.getElementById('totalCount');
    const bodyEl = document.getElementById('scoreboardBody');
    const statsEl = document.getElementById('branchStats');
    const personalLabel = { en:'Personnel', id:'Personel', zh:'äººå‘˜', ja:'è¦å“¡', ru:'ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»', de:'Personal' };
    totalEl.textContent = `${scoreboard.length} ${personalLabel[currentLanguage] || 'Personnel'}`;

    const branches = ['army','navy','air-force','marines','space-force','coast-guard'];
    const stats = {};
    branches.forEach(b => stats[b] = scoreboard.filter(p => p.branch === b).length);
    const branchEmoji = { army:'ğŸª–', navy:'âš“', 'air-force':'âœˆï¸', marines:'ğŸ–ï¸', 'space-force':'ğŸš€', 'coast-guard':'â›´ï¸' };
    const branchShort = { en:{army:'Army',navy:'Navy','air-force':'AF',marines:'USMC','space-force':'SF','coast-guard':'CG'}, id:{army:'AD',navy:'AL','air-force':'AU',marines:'Marinir','space-force':'AS','coast-guard':'PP'}, zh:{army:'é™†å†›',navy:'æµ·å†›','air-force':'ç©ºå†›',marines:'é™†æˆ˜é˜Ÿ','space-force':'å¤ªç©ºå†›','coast-guard':'è­¦å«é˜Ÿ'}, ja:{army:'é™¸è»',navy:'æµ·è»','air-force':'ç©ºè»',marines:'æµ·å…µéšŠ','space-force':'å®‡å®™è»','coast-guard':'æ²¿å²¸è­¦å‚™'}, ru:{army:'ĞÑ€Ğ¼Ğ¸Ñ',navy:'Ğ¤Ğ»Ğ¾Ñ‚','air-force':'Ğ’Ğ’Ğ¡',marines:'ĞœĞŸ','space-force':'ĞšĞ’','coast-guard':'Ğ‘Ğ'}, de:{army:'Heer',navy:'Marine','air-force':'LW',marines:'Marines','space-force':'Weltraum','coast-guard':'KÃ¼sten'} };
    const bs = branchShort[currentLanguage] || branchShort.en;

    statsEl.innerHTML = branches.map(b => `
        <div class="stat-card ${b.replace('-','-')}-stat" style="border-top:4px solid ${b==='army'?'#4d7c0f':b==='navy'?'#1e40af':b==='air-force'?'#0369a1':b==='marines'?'#dc2626':b==='space-force'?'#7e22ce':'#059669'}">
            <div class="stat-number">${stats[b]}</div>
            <div class="stat-label">${branchEmoji[b]} ${bs[b]}</div>
        </div>`).join('');

    if (scoreboard.length === 0) {
        const msgs = { en:'No soldiers generated yet...', id:'Belum ada prajurit yang digenerate...', zh:'å°šæœªç”Ÿæˆå£«å…µ...', ja:'å…µå£«ãŒã¾ã ç”Ÿæˆã•ã‚Œã¦ã„ã¾ã›ã‚“...', ru:'Ğ¡Ğ¾Ğ»Ğ´Ğ°Ñ‚Ñ‹ ĞµÑ‰Ğµ Ğ½Ğµ ÑĞ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹...', de:'Noch keine Soldaten generiert...' };
        bodyEl.innerHTML = `<tr><td colspan="6" style="text-align:center;padding:30px;color:#64748b;">${msgs[currentLanguage]||msgs.en}</td></tr>`;
        return;
    }

    bodyEl.innerHTML = [...scoreboard].map(p => {
        const bLabel = translations[currentLanguage][p.branch+'Btn'] || p.branch;
        return `<tr>
            <td><strong>${p.name}</strong></td>
            <td>${p.rank}</td>
            <td style="font-size:0.85em">${p.unit}</td>
            <td><span class="branch-badge ${p.branch}">${bLabel}</span></td>
            <td style="font-size:0.85em">${p.weapon}</td>
            <td><span class="status-badge">${translations[currentLanguage].active}</span></td>
        </tr>`;
    }).join('');
}

function generateBranchButtons() {
    const container = document.getElementById('branchButtons');
    const branches = [
        {id:'army', class:'army', label:translations[currentLanguage].armyBtn},
        {id:'navy', class:'navy', label:translations[currentLanguage].navyBtn},
        {id:'air-force', class:'air-force', label:translations[currentLanguage].airForceBtn},
        {id:'marines', class:'marines', label:translations[currentLanguage].marinesBtn},
        {id:'space-force', class:'space-force', label:translations[currentLanguage].spaceForceBtn},
        {id:'coast-guard', class:'coast-guard', label:translations[currentLanguage].coastGuardBtn}
    ];
    container.innerHTML = branches.map(b => `
        <button class="branch-btn ${b.class} ${selectedBranch===b.id?'active':''}" onclick="setBranch('${b.id}',event)">${b.label}</button>`).join('');
}

function setBranch(branch, event) {
    selectedBranch = branch;
    document.querySelectorAll('.branch-btn').forEach(btn => btn.classList.remove('active'));
    if (event && event.target) event.target.closest('.branch-btn').classList.add('active');
}

function setLanguage(lang) {
    currentLanguage = lang;
    document.getElementById('languageDropdown').classList.remove('show');
    const t = translations[lang];
    Object.keys(t).forEach(key => {
        const el = document.getElementById(key);
        if (el) el.textContent = t[key];
    });
    document.querySelector('.made-by').textContent = t.madeBy;
    const flags = { en:'ğŸ‡ºğŸ‡¸ English', id:'ğŸ‡®ğŸ‡© Indonesia', zh:'ğŸ‡¨ğŸ‡³ ä¸­æ–‡', ja:'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª', ru:'ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹', de:'ğŸ‡©ğŸ‡ª Deutsch' };
    document.querySelector('.language-btn').textContent = flags[lang];
    generateBranchButtons();
    updateScoreboard();
}

function toggleLanguageDropdown() {
    document.getElementById('languageDropdown').classList.toggle('show');
}

function updateHistoryDisplay() {
    const el = document.getElementById('history');
    const labels = { en:'Recent:', id:'Terbaru:', zh:'æœ€è¿‘:', ja:'æœ€è¿‘:', ru:'ĞĞµĞ´Ğ°Ğ²Ğ½Ğ¸Ğµ:', de:'KÃ¼rzlich:' };
    if (generatedHistory.length === 0) { el.innerHTML = `<span id="historyText">${translations[currentLanguage].historyText}</span>`; return; }
    el.innerHTML = `<strong>${labels[currentLanguage]||'Recent:'}</strong><br>` + generatedHistory.map(i=>`${i.name} ${i.rank}, ${i.unit}`).join('<br>');
}

function copyResult() {
    const rank = document.getElementById('rankResult').textContent;
    const unit = document.getElementById('unitResult').textContent;
    if (rank==='-' || unit==='-') { alert(translations[currentLanguage].noResultError); return; }
    const text = [rank, unit, document.getElementById('assignmentResult').textContent, document.getElementById('equipmentResult').textContent, document.getElementById('weaponResult').textContent].join(' | ');
    navigator.clipboard.writeText(text).then(()=>alert(translations[currentLanguage].copySuccess)).catch(err=>alert(translations[currentLanguage].copyError+err));
}

document.addEventListener('click', function(e) {
    const dd = document.getElementById('languageDropdown');
    const btn = document.querySelector('.language-btn');
    if (!btn.contains(e.target) && !dd.contains(e.target)) dd.classList.remove('show');
});

// ==================== INIT ====================
window.addEventListener('DOMContentLoaded', () => {
    generateBranchButtons();
    setLanguage('en');
    loadScoreboardFromFirebase();
});
</script>
</body>
</html>
